<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bonatellierspaces | Architecture Studio</title>
    <meta name="description" id="metaDescription"
        content="bonatellierspaces - A contemporary architecture studio crafting spaces that inspire.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Box Logo BR.png">

    <!-- Fonts - Using system fonts -->


    <style>
        /* CSS Reset */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none !important;
        }

        :root {
            --bg: #fdfcfb;
            --accent: #1a1a1a;
            --text-primary: #1a1a1a;
            --text-secondary: rgba(26, 26, 26, 0.5);
            --font-main: 'Baskerville Old Face', Baskerville, 'Times New Roman', Georgia, serif;
            --font-heading: 'Baskerville Old Face', Baskerville, 'Times New Roman', Georgia, serif;
            --transition-speed: 0.6s;
            --transition-ease: cubic-bezier(0.2, 0, 0.2, 1);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-main);
            font-weight: 300;
            background-color: var(--bg);
            color: var(--text-primary);
            line-height: 1.5;
            overflow: hidden;
            height: 100vh;
            height: 100dvh;
            width: 100vw;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* Navigation - Top left */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            padding: 24px;
        }

        .nav-logo {
            display: block;
            height: 42px;
            width: auto;
        }

        .nav-logo-desktop,
        .nav-logo-box {
            display: none;
        }

        @media (min-width: 769px) {
            .nav-logo {
                display: none;
            }

            .nav-logo-desktop {
                display: block;
                height: 32px;
                width: auto;
            }
        }

        /* Menu - Top left under logo */
        .menu {
            position: fixed;
            top: 25vh;
            left: 24px;
            z-index: 1000;
        }

        .menu-section {
            margin-bottom: 16px;
        }

        .menu-title {
            font-size: 0.7rem;
            font-weight: 400;
            letter-spacing: 0.02em;
            margin-bottom: 6px;
            color: var(--text-primary);
        }

        .menu-list {
            list-style: none;
        }

        .menu-list li {
            margin-bottom: 3px;
        }

        .menu-list a {
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 0.85rem;
            font-weight: 400;
            letter-spacing: 0.02em;
            color: var(--text-secondary);
            transition: color 0.2s;
        }

        .menu-list a:hover,
        .menu-list a.active {
            color: var(--text-primary);
        }

        /* Language Switcher - Bottom left */
        .language-switcher {
            position: fixed;
            bottom: 24px;
            left: 24px;
            z-index: 1000;
            display: flex;
            gap: 12px;
        }

        .language-switcher a {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: var(--text-secondary);
            transition: color 0.2s;
        }

        .language-switcher a:hover,
        .language-switcher a.active {
            color: var(--text-primary);
        }

        /* Credits - Bottom right */
        .website-credits {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 1100;
            font-size: 0.65rem;
            font-weight: 300;
            color: var(--text-secondary);
            pointer-events: none;
        }

        @media (max-width: 768px) {

            .language-switcher,
            .website-credits {
                display: none;
            }

            /* Use original logo on mobile */
            .nav-logo-desktop {
                display: none !important;
            }

            /* Mobile logo - top left corner */
            .nav-logo {
                display: none !important;
            }

            .nav-logo-box {
                display: block !important;
                position: fixed;
                top: 9px;
                left: 24px;
                height: 32px;
                width: auto;
                z-index: 1100;
                content: url('logo.png');
            }

            /* Mobile page titles */
            .menu-title,
            .project-title {
                margin-top: 20px;
            }
        }

        /* Page Container */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            height: 100dvh;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-speed) var(--transition-ease), visibility var(--transition-speed) var(--transition-ease);
            overflow: hidden;
            background-color: var(--bg);
        }

        .page.active {
            opacity: 1;
            visibility: visible;
            z-index: 500;
        }

        /* ========================================
           GALLERY PAGE
           ======================================== */
        .viewer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .vertical-track {
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .vertical-track.dragging {
            transition: none;
        }

        .project-row {
            width: 100vw;
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
        }

        .horizontal-track {
            display: flex;
            height: 100%;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .horizontal-track.dragging {
            transition: none;
        }

        .carousel-slide {
            flex-shrink: 0;
            width: 100vw;
            height: 100vh;
            height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-slide img {
            max-width: 60vw;
            max-height: 75vh;
            max-height: 75dvh;
            object-fit: contain;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.98);
            transition: opacity 1s var(--transition-ease), transform 1.2s var(--transition-ease);
        }

        .carousel-slide img.loaded {
            opacity: 1;
            transform: scale(1);
        }

        .project-info {
            position: fixed;
            z-index: 1000;
            text-align: left;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .project-info.transitioning {
            opacity: 0;
            transform: translateY(10px);
        }

        .project-title {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .project-location,
        .project-date {
            font-size: 0.65rem;
            font-weight: 300;
            color: var(--text-secondary);
            margin-bottom: 2px;
        }

        .project-more {
            font-size: 0.65rem;
            font-weight: 300;
            color: var(--text-primary);
            text-decoration: underline;
            cursor: pointer;
            transition: opacity 0.2s;
            margin-top: 12px;
            display: inline-block;
        }

        .project-description-overlay {
            position: fixed;
            z-index: 1000;
            max-width: 300px;
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 0.8rem;
            line-height: 1.7;
            color: var(--text-primary);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: opacity 0.4s var(--transition-ease), visibility 0.4s var(--transition-ease), transform 0.4s var(--transition-ease);
            pointer-events: none;
        }

        .project-description-overlay.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .project-more:hover {
            color: var(--text-primary);
        }

        .image-counter {
            position: fixed;
            font-size: 0.65rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            z-index: 1000;
        }

        .scroll-horizontal {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            font-size: 0.6rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            text-transform: uppercase;
            opacity: 0.5;
            pointer-events: none;
        }

        .scroll-vertical {
            position: fixed;
            right: 24px;
            top: 50%;
            transform: translate(50%, -50%) rotate(90deg);
            transform-origin: center center;
            z-index: 1000;
            font-size: 0.6rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            text-transform: uppercase;
            opacity: 0.5;
            pointer-events: none;
            white-space: nowrap;
        }

        /* ========================================
           CONTENT PAGES (About, Process, Context)
           ======================================== */
        .content-page {
            padding: 100px 200px 60px 320px;
            overflow-y: auto;
            height: 100%;
        }

        .content-page h1 {
            font-family: 'Baskerville Old Face', Baskerville, 'Times New Roman', serif;
            font-size: 0.75rem;
            font-weight: 400;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            margin-bottom: 2.5rem;
        }

        .content-page p {
            font-size: 0.65rem;
            font-weight: 300;
            line-height: 1.7;
            max-width: 300px;
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
        }

        /* Process two-column layout */
        .process-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 1.5rem;
        }

        .process-left p,
        .process-right p {
            max-width: 100%;
        }

        @media (max-width: 768px) {
            .process-columns {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        /* Mobile gallery lightbox */
        #gallery-lightbox {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.92);
            z-index: 9000;
            justify-content: center;
            align-items: center;
            touch-action: pinch-zoom;
        }

        #gallery-lightbox.open {
            display: flex;
        }

        #gallery-lightbox img {
            max-width: 95vw;
            max-height: 95vh;
            object-fit: contain;
            touch-action: pinch-zoom;
        }

        #gallery-lightbox-close {
            position: absolute;
            top: 16px;
            right: 20px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            line-height: 1;
            z-index: 1;
        }

        /* Team Grid for About page */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .team-member {
            text-align: left;
        }

        .team-member-photo {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #d0c9c3 0%, #b8b0a8 100%);
        }

        .team-member-name {
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 0.85rem;
            font-weight: 400;
            margin-bottom: 0.25rem;
        }

        .team-member-role {
            font-size: 0.7rem;
            font-weight: 300;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .team-member-bio {
            font-size: 0.7rem;
            font-weight: 300;
            line-height: 1.5;
            color: var(--text-secondary);
        }

        /* ========================================
           MOBILE ADJUSTMENTS
           ======================================== */
        @media (max-width: 768px) {
            .menu {
                display: none;
            }

            .footer-links {
                display: none;
            }

            .carousel-slide img {
                max-width: 90vw;
                max-height: 50vh;
                max-height: 50dvh;
            }

            .project-info {
                left: 50%;
                right: auto;
                bottom: 60px !important;
                transform: translateX(-50%);
                text-align: center;
            }

            .project-info.transitioning {
                transform: translateX(-50%) translateY(20px);
            }

            .image-counter {
                left: 50%;
                right: auto;
                bottom: 24px;
                transform: translateX(-50%);
            }

            .scroll-indicator {
                display: none;
            }

            .content-page {
                padding: 60px 24px 40px 24px;
            }

            .content-page h1 {
                font-size: 1.1rem;
                margin-top: 32px;
                margin-bottom: 1.5rem;
            }

            /* Mobile description overlay - centered on top of image with backdrop */
            .project-description-overlay {
                left: 50% !important;
                right: auto !important;
                top: 50% !important;
                transform: translateX(-50%) translateY(-50%) !important;
                max-width: 85vw;
                text-align: center;
                z-index: 2000;
            }

            .project-description-overlay.active {
                transform: translateX(-50%) translateY(-50%) !important;
            }

            /* Dim the image when overlay is active */
            .carousel-slide img {
                transition: opacity 0.4s ease;
            }

            body:has(.project-description-overlay.active) .carousel-slide img {
                opacity: 0.1;
            }

            .team-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }
        }


        /* Mobile navigation toggle - hamburger icon */
        .mobile-nav-toggle {
            display: none;
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 1001;
            background: none;
            border: none;
            width: 24px;
            height: 18px;
            cursor: pointer;
            padding: 0;
        }

        .mobile-nav-toggle span {
            display: block;
            width: 100%;
            height: 2px;
            background-color: #302020;
            margin-bottom: 5px;
            transition: transform 0.3s, opacity 0.3s;
        }

        .mobile-nav-toggle span:last-child {
            margin-bottom: 0;
        }

        .mobile-nav-toggle.active span:nth-child(1) {
            transform: translateY(7px) rotate(45deg);
        }

        .mobile-nav-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-nav-toggle.active span:nth-child(3) {
            transform: translateY(-7px) rotate(-45deg);
        }

        @media (max-width: 768px) {
            .mobile-nav-toggle {
                display: block;
            }
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .mobile-nav.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav a {
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 1.2rem;
            font-weight: 400;
            margin: 0.75rem 0;
            color: var(--text-secondary);
            transition: color 0.2s;
        }

        .mobile-nav a:hover,
        .mobile-nav a.active {
            color: var(--text-primary);
        }

        /* Custom Cursor */
        .cursor-dot {
            width: 3px;
            height: 3px;
            background-color: var(--text-secondary);
            border-radius: 50%;
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10001;
            transition: transform 0.1s ease;
        }

        /* White cursor while landing page is visible */
        body.on-landing .cursor-dot {
            background-color: rgba(255, 255, 255, 0.85);
        }

        body.on-landing .cursor-outline {
            border-color: rgba(255, 255, 255, 0.3);
        }

        .cursor-outline {
            width: 20px;
            height: 20px;
            border: 1px solid rgba(26, 26, 26, 0.15);
            border-radius: 50%;
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10000;
            transition: transform 0.2s var(--transition-ease), opacity 0.2s var(--transition-ease), width 0.3s var(--transition-ease), height 0.3s var(--transition-ease);
            transform: translate(-50%, -50%);
        }

        .cursor-hover .cursor-outline {
            width: 36px;
            height: 36px;
            background-color: rgba(26, 26, 26, 0.015);
            border-color: rgba(26, 26, 26, 0.25);
        }

        @media (max-width: 1024px) {

            .cursor-dot,
            .cursor-outline {
                display: none;
            }

            * {
                cursor: auto !important;
            }
        }

        /* Team Photo Hover */
        .team-member-photo {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            margin-bottom: 1rem;
            filter: grayscale(1);
            transition: filter 0.6s var(--transition-ease), transform 0.6s var(--transition-ease);
        }

        .team-member:hover .team-member-photo {
            filter: grayscale(0);
            transform: scale(1.02);
        }
    </style>
</head>

<body>
    <div class="cursor-dot" id="cursorDot"></div>
    <div class="cursor-outline" id="cursorOutline"></div>

    <!-- ==========================================
         LANDING PAGE
         ========================================== -->
    <div id="landing-page">
        <style>
            #landing-page {
                position: fixed;
                inset: 0;
                z-index: 9999;
                background: #200d0d;
                display: flex;
                align-items: center;
                transition: opacity 0.8s cubic-bezier(0.2, 0, 0.2, 1);
            }

            #landing-page.hidden {
                opacity: 0;
                pointer-events: none;
            }

            /* Right info panel — ~30% width */
            .landing-info {
                position: relative;
                flex-shrink: 0;
                width: 30%;
                height: var(--carousel-h, 46vh);
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                align-items: flex-start;
                padding: 0 5vw 0 46px;
                /* 46px = chevron(36px) + 10px breathing room */
                margin-left: -30px;
                z-index: 5;
                pointer-events: none;
            }

            .landing-logo {
                width: 175px;
                filter: brightness(0) invert(1);
                display: block;
            }

            .landing-tagline {
                font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
                font-size: 1.08rem;
                color: rgba(255, 255, 255, 1);
                line-height: 1.65;
                font-weight: 400;
                position: relative;
                top: 10px;
            }

            /* Thin white divider above tagline */
            .landing-divider-line {
                display: block;
                width: 100%;
                height: 1px;
                background: rgba(255, 255, 255, 0.8);
                position: relative;
                top: 10px;
                margin-bottom: 30px;
            }

            /* Left carousel area — shifted 100px right from page edge */
            .landing-carousel-area {
                position: relative;
                flex: 1;
                height: 100%;
                display: flex;
                align-items: center;
                overflow: hidden;
                margin-left: 100px;
            }

            .landing-carousel-wrapper {
                position: absolute;
                left: 80px;
                /* after left arrow */
                right: 56px;
                /* right: clear space for the right chevron (36px) + 20px gap */
                top: 0;
                bottom: 0;
                overflow: hidden;
                display: flex;
                align-items: center;
            }

            .landing-carousel-track {
                display: flex;
                gap: 20px;
                will-change: transform;
            }

            .landing-carousel-item {
                flex-shrink: 0;
                height: var(--carousel-h, 46vh);
                width: auto;
                overflow: hidden;
            }

            .landing-carousel-item img {
                height: 100%;
                width: auto;
                display: block;
                object-fit: cover;
                pointer-events: none;
                user-select: none;
                filter: brightness(0.9);
            }

            /* V-shaped chevron arrows flanking the carousel — always visible */
            .landing-chevron {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                z-index: 20;
                width: 36px;
                height: 36px;
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 1;
                cursor: default;
            }

            /* Right chevron inside info panel — same left edge as logo */
            .landing-info>.landing-chevron {
                position: absolute;
                left: 0;
                top: 50%;
                transform: translateY(-50%);
            }

            .landing-chevron svg {
                width: 14px;
                height: 24px;
                stroke: rgba(255, 255, 255, 0.7);
                stroke-width: 1;
                fill: none;
                stroke-linecap: round;
                stroke-linejoin: round;
            }

            /* Hover zones — thin vertical bands */
            .landing-arrow-zone {
                position: absolute;
                top: 0;
                bottom: 0;
                width: 50px;
                z-index: 21;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .landing-arrow-zone.left {
                left: 0;
            }

            .landing-arrow-zone.right {
                right: 0;
            }

            .landing-arrow-zone:hover+.landing-chevron,
            .landing-arrow-zone:hover~.landing-chevron,
            .landing-arrow-zone.hovered .landing-chevron {
                opacity: 1;
            }

            /* Trigger chevron visibility on zone hover via JS — always visible now */
            .landing-chevron.visible {
                opacity: 1;
            }

            /* Chevron positions — centred in their respective gaps */
            .landing-chevron.chevron-left {
                left: 32px;
            }

            /* centred in 80px left gap */
            .landing-chevron.chevron-right {
                right: -13px;
                /* shifted 30px more to the right */
            }

            /* centred in 70px right gap */

            /* Mobile: column layout, logo only centered above carousel */
            @media (max-width: 768px) {
                #landing-page {
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    gap: 5vh;
                }

                .landing-info {
                    order: -1;
                    width: 100%;
                    height: auto;
                    padding: 0;
                    margin: 0;
                    align-items: center;
                    justify-content: center;
                }

                .landing-info>.landing-arrow-zone,
                .landing-info>.landing-chevron,
                .landing-arrow-zone.left,
                .landing-chevron.chevron-left,
                .landing-tagline,
                .landing-divider-line {
                    display: none;
                }

                .landing-logo {
                    width: 130px;
                }

                .landing-carousel-area {
                    flex: none;
                    width: 100%;
                    margin-left: 0;
                    height: 45vh;
                }

                .landing-carousel-wrapper {
                    left: 20px;
                    right: 20px;
                }

                :root {
                    --carousel-h: 40vh;
                }
            }
        </style>

        <!-- Left: carousel + left arrow -->
        <div class="landing-carousel-area" id="landingCarouselArea">

            <!-- Left arrow zone + chevron -->
            <div class="landing-arrow-zone left" id="landingArrowLeft"></div>
            <div class="landing-chevron chevron-left" id="landingChevronLeft">
                <svg viewBox="0 0 10 20">
                    <polyline points="8,1 2,10 8,19" />
                </svg>
            </div>

            <!-- Carousel -->
            <div class="landing-carousel-wrapper" id="landingCarouselWrapper">
                <div class="landing-carousel-track" id="landingCarouselTrack"></div>
            </div>
        </div>

        <!-- Right info panel (right chevron is first child, left-edge aligned with logo) -->
        <div class="landing-info" id="landingInfo">
            <!-- Right arrow zone + chevron: left: 0 → aligns with logo left edge -->
            <div class="landing-arrow-zone right" id="landingArrowRight" style="top:0;bottom:0;left:0;width:46px;">
            </div>
            <div class="landing-chevron" id="landingChevronRight"
                style="position:absolute;left:0;top:50%;transform:translateY(-50%)">
                <svg viewBox="0 0 10 20">
                    <polyline points="2,1 8,10 2,19" />
                </svg>
            </div>
            <img src="Text Logo BR.png" alt="bonatelier" class="landing-logo">
            <div>
                <span class="landing-divider-line"></span>
                <div class="landing-tagline">Architecture and design studio,<br>based in Vilnius, Lithuania.</div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav">
        <a href="#" id="navLogoLink">
            <img src="Box Logo BR.png" alt="bonatelier" class="nav-logo" id="mobileNavLogo">
            <img src="Box Logo BR.png" alt="bonatelier" class="nav-logo-desktop">
        </a>
    </nav>

    <!-- Desktop Menu -->
    <div class="menu">
        <div class="menu-section">
            <ul class="menu-list">
                <li><a href="#gallery" data-page="gallery" class="translate" data-key="gallery">Gallery</a></li>
                <li><a href="#about" data-page="about" class="translate" data-key="about">About</a></li>
                <li><a href="#process" data-page="process" class="translate" data-key="process">Process</a></li>
                <li><a href="#contacts" data-page="contacts" class="translate" data-key="contacts">Contacts</a></li>
            </ul>
        </div>
    </div>

    <!-- Mobile Nav Toggle (Hamburger) -->
    <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <a href="#gallery" data-page="gallery" class="translate" data-key="gallery">Gallery</a>
        <a href="#about" data-page="about" class="translate" data-key="about">About</a>
        <a href="#process" data-page="process" class="translate" data-key="process">Process</a>
        <a href="#contacts" data-page="contacts" class="translate" data-key="contacts">Contacts</a>
    </div>

    <!-- Language Switcher -->
    <div class="language-switcher">
        <a href="#" class="active" onclick="setLanguage(event, 'EN')">EN</a>
        <a href="#" onclick="setLanguage(event, 'LT')">LT</a>
        <a href="#" onclick="setLanguage(event, 'FR')">FR</a>
    </div>

    <!-- Website Credits -->
    <div class="website-credits translate" data-key="credits" id="credits">© Bonatelier 2026</div>



    <!-- ==========================================
         PAGE: GALLERY
         ========================================== -->
    <main class="page active" id="page-gallery">
        <div class="viewer">
            <div class="vertical-track" id="verticalTrack"></div>
        </div>

        <div class="project-description-overlay" id="projectDescriptionOverlay"></div>

        <div class="project-info" id="projectInfo">
            <div class="project-title" id="projectTitle"></div>
            <div class="project-location" id="projectLocation"></div>
            <div class="project-date" id="projectDate"></div>
            <a class="project-more translate" id="toggleMoreInfo" data-key="moreInfo">More information</a>
        </div>

        <div class="image-counter" id="imageCounter"></div>

        <div class="scroll-indicator scroll-horizontal translate" id="scrollHorizontal" data-key="swipeImages">← SWIPE
            FOR MORE IMAGES →</div>
        <div class="scroll-indicator scroll-vertical translate" id="scrollVertical" data-key="swipeProjects">← SWIPE FOR
            MORE PROJECTS →</div>
    </main>

    <!-- Mobile gallery lightbox -->
    <div id="gallery-lightbox">
        <span id="gallery-lightbox-close">&times;</span>
        <img id="gallery-lightbox-img" src="" alt="">
    </div>

    <!-- ==========================================
         PAGE: ABOUT
         ========================================== -->
    <main class="page" id="page-about">
        <div class="content-page">
            <h1><span class="translate" data-key="about">ABOUT</span></h1>

            <p>Bonatelier was founded in 2023 in Delft, the Netherlands, where Augusta and Emilia met during their
                common Master of Architecture. Bound by a shared interest in detail-oriented, slow architecture and a
                desire to bring a more sensitive approach to the field, they created Bonatelier as a unifying platform
                for projects across scales – from material research and furniture design to full-scale interior
                projects.</p>

            <div class="team-grid">
                <div class="team-member">
                    <img src="assets/emilia.jpg" alt="Emilia" class="team-member-photo">
                    <div class="team-member-bio translate" data-key="teamEmiliaBio">
                        <strong>Emilia</strong> was born to a Lithuanian mother and a French father, and grew up between
                        Luxembourg, Belgium, Paris, and Vilnius before studying architecture in the Netherlands.
                        Experiencing different cultures and homes from an early age shaped her sensitivity to space,
                        identity, and belonging, and informs her approach to working with existing buildings and used
                        materials to create personal interiors.
                    </div>
                </div>
                <div class="team-member">
                    <img src="assets/augusta.jpg" alt="Augusta" class="team-member-photo">
                    <div class="team-member-bio translate" data-key="teamAugustaBio">
                        <strong>Augusta</strong> was born and raised in Vilnius and studied architecture in Wales before
                        completing her Master’s in the Netherlands. Her academic and professional journey has taken her,
                        among others, to Denmark and Boston, USA. Her practice is rooted in material experimentation,
                        research, and a strong interest in cartography – exploring space across time, scale, and
                        context.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ==========================================
         PAGE: PROCESS
         ========================================== -->
    <main class="page" id="page-process">
        <div class="content-page process-layout">
            <h1><span class="translate" data-key="process">PROCESS</span></h1>
            <div class="process-columns">
                <div class="process-left">
                    <p>We stand against trend-led minimalism through material honesty and craft. At the heart of
                        Bonatelier is the idea that timelessness is not an aesthetic style but an outcome that emerges
                        from identity. Our role is to gently articulate it, allowing it to crystallize both around the
                        existing elements of a space and the unique character of its users.</p>
                    <p>Contrast is our main design tool. We are drawn to interiors where opposites coexist: contemporary
                        with antique, new with used, polished with patinated, scientific with organic, curated with
                        authentic. We deliberately leave room for the slightly strange, the ornamented, or the
                        non-rational: elements that cannot be explained by functional logic alone, yet resonate with the
                        space or the people in it. This is where an interior gains depth, memory, and emotional
                        permanence.</p>
                    <p>Our interiors are minimal in gesture, yet rich in thought, materiality, and texture. Elegance
                        emerges from functionality, proportion, and balance, rather than excess.</p>
                    <p>We favor the reuse of materials and objects, repairing and adapting wherever possible. This often
                        leads to non-standard solutions that require care, time, and craftsmanship, such as furniture
                        reupholstering, restoration, or bespoke details. We see this as a way to slow down design, to
                        resist disposability, and to add meaning to the everyday.</p>
                    <p>Trust is central to our approach. We guide our clients through the different steps of the process
                        while offering a rounded service, from technical planning to the implementation of both hard and
                        soft interior finishes.</p>
                </div>
                <div class="process-right">
                    <p>We offer <u><strong>full-scope interior projects</strong></u> from hard and soft finishes through
                        to decor and implementation. Our practice also offers <u><strong>consultations</strong></u>,
                        including in the context of <u>real estate purchases or sales</u>, addressing questions of
                        potential, value, transformation, and long-term use.</p>
                    <p>Contact us directly for more information.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- ==========================================
         PAGE: CONTACTS
         ========================================== -->
    <main class="page" id="page-contacts">
        <div class="content-page">
            <h1><span class="translate" data-key="contacts">CONTACT</span></h1>
            <p class="translate" data-key="contactsIntro">
                For project enquiries, please reach out to us directly.
            </p>
            <p>
                <strong class="translate" data-key="emailLabel">Email</strong><br>
                <a href="mailto:ae.bonatelier@gmail.com" style="text-decoration: underline;">ae.bonatelier@gmail.com</a>
            </p>
            <p>
                <strong class="translate" data-key="phoneLabel">Phone</strong><br>
                +370 63357983
            </p>
            <p>
                <strong class="translate" data-key="addressLabel">Address</strong><br>
                Gelų g. 4, 01137, Vilnius
            </p>
            <p>
                <strong class="translate" data-key="socialLabel">Socials</strong><br>
                <a href="https://www.instagram.com/bonatelierspaces/" target="_blank"
                    style="text-decoration: underline;">Instagram</a><br>
                <a href="https://ca.pinterest.com/spacesbybonatelier/" target="_blank"
                    style="text-decoration: underline;">Pinterest</a>
            </p>
        </div>
    </main>

    <script>
        // ==========================================
        // ROUTER
        // ==========================================
        function initRouter() {
            const pages = document.querySelectorAll('.page');
            const navLinks = document.querySelectorAll('[data-page]');

            function navigateTo(pageId, projectIdx = null, imageIdx = null) {
                // Hide all pages
                pages.forEach(page => page.classList.remove('active'));

                // Show target page
                const targetPage = document.getElementById(`page-${pageId}`);
                if (targetPage) {
                    targetPage.classList.add('active');
                }

                // Update active nav links
                navLinks.forEach(link => {
                    if (link.dataset.page === pageId) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });

                // Close mobile nav
                document.getElementById('mobileNav').classList.remove('active');
                document.getElementById('mobileNavToggle').classList.remove('active');

                // Initialize gallery with specific position if provided
                if (pageId === 'gallery') {
                    if (projectIdx !== null && projectIdx >= 0 && projectIdx < projects.length) {
                        currentProjectIndex = projectIdx;
                        if (imageIdx !== null && imageIdx >= 0 && imageIdx < projects[projectIdx].images.length) {
                            currentImageIndices[projectIdx] = imageIdx;
                        }
                    }
                    initGallery();
                }
            }

            function parseHash(hash) {
                // Parse formats: 'gallery', 'gallery/1', 'gallery/1/2', 'about', etc.
                const parts = hash.split('/');
                const pageId = parts[0] || 'gallery';
                const projectIdx = parts[1] !== undefined ? parseInt(parts[1], 10) : null;
                const imageIdx = parts[2] !== undefined ? parseInt(parts[2], 10) : null;
                return { pageId, projectIdx, imageIdx };
            }

            function handleHashChange() {
                const hash = window.location.hash.slice(1) || 'gallery';
                const { pageId, projectIdx, imageIdx } = parseHash(hash);
                navigateTo(pageId, projectIdx, imageIdx);
            }

            // Listen for hash changes
            window.addEventListener('hashchange', handleHashChange);

            // Handle initial load
            handleHashChange();

            // Mobile nav toggle
            const mobileNavToggle = document.getElementById('mobileNavToggle');
            const mobileNav = document.getElementById('mobileNav');

            mobileNavToggle.addEventListener('click', () => {
                mobileNav.classList.toggle('active');
                mobileNavToggle.classList.toggle('active');
            });
        }

        // Update URL hash for gallery position (without triggering navigation)
        function updateGalleryHash() {
            const projectIdx = currentProjectIndex;
            const imageIdx = currentImageIndices[projectIdx];
            const newHash = `#gallery/${projectIdx}/${imageIdx}`;

            // Use replaceState to update URL without adding to history for every swipe
            history.replaceState(null, '', newHash);
        }

        // ==========================================
        // TRANSLATIONS
        // ==========================================
        const translations = {
            EN: {
                gallery: "Gallery",
                about: "About",
                process: "Process",
                contacts: "Contacts",
                moreInfo: "More information",
                swipeImages: "← SWIPE FOR MORE IMAGES →",
                swipeProjects: "← SWIPE FOR MORE PROJECTS →",
                credits: "© Bonatelier 2026",
                aboutDescription: "bonatellierspaces is a contemporary architecture studio founded on the belief that great spaces emerge from the intersection of innovation and timeless design principles. We craft environments that inspire, function beautifully, and stand the test of time.",
                aboutPhilosophy: "Our multidisciplinary approach brings together architecture, interior design, and spatial thinking to create holistic solutions for residential, commercial, and cultural projects.",
                teamEmiliaBio: "Hi, I'm Emilia. I was born in Vilnius to a Lithuanian mother and a French father, and my teenage years were shaped by life across Luxembourg, Belgium, Paris, Vilnius, and later the Netherlands, where I studied architecture. Experiencing so many places at a young age deeply influenced the way I relate to space and belonging. Each move sparked my interest in interior and spatial design. With every new home, I learned how to make a space feel personal and lived-in. Alongside this, I developed a strong appreciation for thrifting, inspired by my mother's love for flea markets and second-hand finds. At Bonatelier, these interests come together. I work with what already exists—furniture, buildings, materials, and art—to create spaces that feel personal, thoughtful, and grounded in their context. Drawing from the places I've lived, I design with the intention of bringing identity and meaning to each home.",
                teamAugustaBio: "Hi, I'm Augusta. I was born and raised in Vilnius, where my interest in art and spatial thinking first developed. I later moved to Wales to study architecture, and my academic and professional journey has since taken me from Vilnius to Toronto, Boston, and the Netherlands, where I graduated with a Master of Architecture from Delft University of Technology. Throughout these experiences, I have engaged in a wide range of creative practices, from curatorial and research-based work to hands-on building. Experimentation lies at the core of my approach, allowing each project to respond sensitively to its context. I am particularly interested in cartography—tracing space across time and scale, and uncovering unexpected connections. Living and working in different places has shaped the way I connect architectural theory with practice. At Bonatelier, I explore space as a narrative. I am driven by the creation of homes that reflect their context and origin, spaces where inhabitants feel a sense of belonging that goes beyond function alone.",
                processIntro: "Our design process is rooted in deep understanding — of context, of materials, of the human experience. Every project begins with listening: to our clients, to the site, to the aspirations that will shape the final design.",
                processDiscovery: "Discovery",
                processDiscoveryText: "We begin each project with comprehensive research and site analysis, understanding the physical, cultural, and emotional context in which we'll be working.",
                processConcept: "Concept",
                processConceptText: "From initial sketches to detailed studies, we explore multiple directions before arriving at a design that feels inevitable — as if it couldn't exist any other way.",
                processDevelopment: "Development",
                processDevelopmentText: "Rigorous technical development ensures our creative vision is buildable, sustainable, and meets the highest standards of quality.",
                processRealization: "Realization",
                processRealizationText: "We remain deeply involved through construction, ensuring the finished space matches the precision and care of our original design intent.",
                contactsIntro: "For project enquiries, please feel free to reach out to us directly.",
                emailLabel: "Email",
                phoneLabel: "Phone",
                addressLabel: "Address",
                socialLabel: "Social"
            },
            LT: {
                gallery: "Galerija",
                about: "Apie",
                process: "Procesas",
                contacts: "Kontaktai",
                moreInfo: "Daugiau informacijos",
                swipeImages: "← BRAUKITE DAUGIAU NUOTRAUKŲ →",
                swipeProjects: "← BRAUKITE DAUGIAU PROJEKTŲ →",
                credits: "© Bonatelier Spaces 2026",
                aboutDescription: "bonatellierspaces yra šiuolaikinė architektūros studija, įkurta tikint, kad puikios erdvės atsiranda inovacijų ir nesenstančių dizaino principų sankirtoje. Mes kuriame aplinką, kuri įkvepia, gražiai funkcionuoja ir atlaiko laiko išbandymus.",
                aboutPhilosophy: "Mūsų daugiadalykis požiūris apjungia architektūrą, interjero dizainą ir erdvinį mąstymą, siekiant sukurti holistinius sprendimus gyvenamiesiems, komerciniams ir kultūriniams projektams.",
                teamEmiliaBio: "Sveiki, aš Emilia. Gimiau Vilniuje lietuvės motinos ir prancūzo tėvo šeimoje, o mano paauglystė buvo formuojama gyvenimo Liuksemburge, Belgijoje, Paryžiuje, Vilniuje ir vėliau Nyderlanduose, kur studijavau architektūrą. Patyrimas tiek daug vietų jauname amžiuje giliai paveikė tai, kaip suvokiu erdvę ir priklausymą. Kiekvienas persikraustymas skatino mano susidomėjimą interjero ir erdvės dizainu. Su kiekvienu nauju namu išmokau, kaip padaryti erdvę asmenišką ir gyvenamą. Kartu išvystė stiprų vertinimą antrinių daiktų pirkimui, įkvėptą mamos meilės turgavietėms ir naudotiems daiktams. Bonatelier šie interesai susijungia. Dirbu su tuo, kas jau egzistuoja—baldais, pastatais, medžiagomis ir menu—kurdama erdves, kurios jaučiasi asmeniškai, apgalvotai ir įsišaknijusios savo kontekste. Remdamasi vietomis, kuriose gyvenau, projektuoju su tikslu suteikti tapatybę ir prasmę kiekvienam namui.",
                teamAugustaBio: "Sveiki, aš Augusta. Gimiau ir užaugau Vilniuje, kur pirmą kartą išsivystė mano susidomėjimas menu ir erdviniu mąstymu. Vėliau persikėliau į Velsą studijuoti architektūros, o mano akademinė ir profesinė kelionė nuo to laiko nusivedė mane iš Vilniaus į Torontą, Bostoną ir Nyderlandus, kur baigiau architektūros magistro studijas Delfto technologijos universitete. Per šias patirtis dalyvavau įvairiose kūrybinėse praktikose, nuo kuratorinių ir tyrimais pagrįstų darbų iki praktinio statybų. Eksperimentavimas yra mano požiūrio pagrindas, leidžiantis kiekvienam projektui jautriai reaguoti į jo kontekstą. Ypač domina kartografija—erdvės sekimas per laiką ir mastą bei netikėtų ryšių atskleidimas. Gyvenimas ir darbas skirtingose vietose formavo būdą, kaip sujungiu architektūros teoriją su praktika. Bonatelier tyrinėju erdvę kaip naratyvą. Mane skatina namų kūrimas, atspindintis jų kontekstą ir kilmę, erdvės, kuriose gyventojai jaučia priklausymo jausmą, pranokstantį vien funkciją.",
                processIntro: "Mūsų projektavimo procesas remiasi giliu supratimu – konteksto, medžiagų, žmogaus patirties. Kiekvienas projektas prasideda nuo klausymosi: mūsų klientų, vietos, lūkesčių, kurie suformuos galutinį dizainą.",
                processDiscovery: "Atradimas",
                processDiscoveryText: "Kiekvieną projektą pradedame nuo išsamių tyrimų ir vietos analizės, suprasdami fizinį, kultūrinį ir emocinį kontekstą, kuriame dirbsime.",
                processConcept: "Koncepcija",
                processConceptText: "Nuo pradinių eskizų iki detalių studijų tiriame kelias kryptis, kol pasiekiame dizainą, kuris atrodo neišvengiamas – lyg jis negalėtų egzistuoti kitaip.",
                processDevelopment: "Vystymas",
                processDevelopmentText: "Griežtas techninis vystymas užtikrina, kad mūsų kūrybinė vizija būtų įgyvendinama, tvari ir atitiktų aukščiausius kokybės standartus.",
                processRealization: "Realizacija",
                processRealizationText: "Mes liekame giliai įsitraukę viso statybos proceso metu, užtikrindami, kad užbaigta erdvė atitiktų mūsų pradinio dizaino tikslumą ir rūpestį.",
                contactsIntro: "Dėl projektų užklausų maloniai prašome kreiptis tiesiogiai.",
                emailLabel: "El. paštas",
                phoneLabel: "Telefonas",
                addressLabel: "Adresas",
                socialLabel: "Socialiniai tinklai"
            },
            FR: {
                gallery: "Galerie",
                about: "À propos",
                process: "Processus",
                contacts: "Contacts",
                moreInfo: "Plus d'informations",
                swipeImages: "← BALAYER POUR PLUS D'IMAGES →",
                swipeProjects: "← BALAYER POUR PLUS DE PROJETS →",
                credits: "© Bonatelier Spaces 2026",
                aboutDescription: "bonatellierspaces est un studio d'architecture contemporaine fondé sur la conviction que les grands espaces naissent de l'intersection de l'innovation et des principes de conception intemporels. Nous concevons des environnements qui inspirent, fonctionnent magnifiquement et résistent à l'épreuve du temps.",
                aboutPhilosophy: "Notre approche multidisciplinaire réunit l'architecture, le design d'intérieur et la pensée spatiale pour créer des solutions holistiques pour des projets résidentiels, commerciaux et culturels.",
                teamEmiliaBio: "Bonjour, je suis Emilia. Je suis née à Vilnius d'une mère lituanienne et d'un père français, et mon adolescence a été façonnée par la vie au Luxembourg, en Belgique, à Paris, à Vilnius, et plus tard aux Pays-Bas, où j'ai étudié l'architecture. Vivre dans tant d'endroits à un jeune âge a profondément influencé ma relation à l'espace et à l'appartenance. Chaque déménagement a suscité mon intérêt pour le design d'intérieur et spatial. Avec chaque nouvelle maison, j'ai appris à rendre un espace personnel et habité. Parallèlement, j'ai développé une forte appréciation pour la chine, inspirée par l'amour de ma mère pour les marchés aux puces et les trouvailles d'occasion. Chez Bonatelier, ces intérêts se rejoignent. Je travaille avec ce qui existe déjà—meubles, bâtiments, matériaux et art—pour créer des espaces qui se sentent personnels, réfléchis et ancrés dans leur contexte. En m'inspirant des lieux où j'ai vécu, je conçois avec l'intention d'apporter identité et sens à chaque maison.",
                teamAugustaBio: "Bonjour, je suis Augusta. Je suis née et j'ai grandi à Vilnius, où mon intérêt pour l'art et la pensée spatiale s'est d'abord développé. J'ai ensuite déménagé au Pays de Galles pour étudier l'architecture, et mon parcours académique et professionnel m'a depuis menée de Vilnius à Toronto, Boston et aux Pays-Bas, où j'ai obtenu un Master en Architecture de l'Université de Technologie de Delft. Tout au long de ces expériences, j'ai participé à un large éventail de pratiques créatives, du travail curatorial et basé sur la recherche à la construction pratique. L'expérimentation est au cœur de mon approche, permettant à chaque projet de répondre de manière sensible à son contexte. Je suis particulièrement intéressée par la cartographie—tracer l'espace à travers le temps et l'échelle, et découvrir des connexions inattendues. Vivre et travailler dans différents endroits a façonné la façon dont je connecte la théorie architecturale à la pratique. Chez Bonatelier, j'explore l'espace comme un récit. Je suis motivée par la création de maisons qui reflètent leur contexte et leur origine, des espaces où les habitants ressentent un sentiment d'appartenance qui va au-delà de la seule fonction.",
                processIntro: "Notre processus de conception est enraciné dans une compréhension profonde — du contexte, des matériaux, de l'expérience humaine. Chaque projet commence par l'écoute : de nos clients, du site, des aspirations qui façonneront le design final.",
                processDiscovery: "Découverte",
                processDiscoveryText: "Nous commençons chaque projet par une recherche approfondie et une analyse du site, comprenant le contexte physique, culturel et émotionnel dans lequel nous travaillerons.",
                processConcept: "Concept",
                processConceptText: "Des esquisses initiales aux études détaillées, nous explorons plusieurs directions avant d'arriver à un design qui semble inévitable — comme s'il ne pouvait exister autrement.",
                processDevelopment: "Développement",
                processDevelopmentText: "Un développement technique rigoureux garantit que notre vision créative est réalisable, durable et répond aux normes de qualité les plus élevées.",
                processRealization: "Réalisation",
                processRealizationText: "Nous restons profondément impliqués pendant la construction, en veillant à ce que l'espace fini corresponde à la précision et au soin de notre intention de conception originale.",
                contactsIntro: "Pour toute demande de projet, n'hésitez pas à nous contacter directement.",
                emailLabel: "E-mail",
                phoneLabel: "Téléphone",
                addressLabel: "Adresse",
                socialLabel: "Social"
            }
        };

        let currentLanguage = 'EN';

        // ==========================================
        // GALLERY
        // ==========================================
        const projects = [
            {
                folder: '1',
                images: ['IMG_5861.jpeg', 'IMG_5854.jpeg', 'IMG_5858.jpeg', 'IMG_5871.jpeg', 'IMG_5897.jpeg', 'IMG_5907.jpeg', 'IMG_5833.jpeg'],
                EN: {
                    title: 'Residential Project',
                    location: 'Vilnius, Lithuania',
                    description: 'A contemporary residential project in the heart of Vilnius, merging historical context with modern minimalist aesthetics. The design focuses on light-filled spaces and honest materiality.'
                },
                LT: {
                    title: 'Gyvenamasis projektas',
                    location: 'Vilnius, Lietuva',
                    description: 'Šiuolaikinis gyvenamasis projektas Vilniaus širdyje, jungiantis istorinį kontekstą su modernia minimalistine estetika. Dizainas orientuotas į šviesos pripildytas erdves ir sąžiningą medžiagiškumą.'
                },
                FR: {
                    title: 'Projet Résidentiel',
                    location: 'Vilnius, Lituanie',
                    description: 'Un projet résidentiel contemporain au cœur de Vilnius, fusionnant le contexte historique et l\'esthétique minimaliste moderne. Le design se concentre sur des espaces baignés de lumière et une matérialité honnête.'
                },
                date: '2024—2025'
            },
            {
                folder: '2',
                images: ['1.jpg', '2.jpg', '3.jpg'],
                EN: {
                    title: 'Residential Project',
                    location: 'Vilnius, Lithuania',
                    description: 'An attic renovation that highlights the original structural features of the space: the exposed concrete of the former central heating core and the old wooden beams are left visible, creating a contrast with the contemporary elements. Additional charm brought in by a restored antique Parisian door. In collaboration with Kristina Grauslytė.'
                },
                LT: {
                    title: 'Gyvenamasis projektas',
                    location: 'Vilnius, Lietuva',
                    description: 'Palėpės renovacija, išryškinanti originalias erdvės konstrukcines ypatybes: buvusio centrinio šildymo šerdies atviras betonas ir senos medinės sijos paliekamos matomos, sukuriant kontrastą su šiuolaikiniais elementais. Papildomo žavesio suteikia restauruotos antikvarinės paryžietiškos durys. Bendradarbiavimas su Kristina Grauslyte.'
                },
                FR: {
                    title: 'Projet Résidentiel',
                    location: 'Vilnius, Lituanie',
                    description: 'Une rénovation de grenier qui met en valeur les caractéristiques structurelles d\'origine de l\'espace : le béton apparent de l\'ancien noyau de chauffage central et les vieilles poutres en bois sont laissés visibles, créant un contraste avec les éléments contemporains. Charme supplémentaire apporté par une porte parisienne antique restaurée. En collaboration avec Kristina Grauslytė.'
                },
                date: '2025'
            },
            {
                folder: '4',
                images: ['IMG_1824.jpeg', 'Screenshot 2026-01-04 at 12.15.49.png'],
                EN: {
                    title: 'Residential Project',
                    location: 'Naujaneriai Manor, Lithuania',
                    description: 'This project focuses on reviving a small manor from 1931 on a minimal budget. The spaces are optimised for functional adaptability and evolving needs, allowing the building to transition from two large apartments to smaller residential units or configurations suitable for events.'
                },
                LT: {
                    title: 'Gyvenamasis projektas',
                    location: 'Naujanerių dvaras, Lietuva',
                    description: 'Šis projektas orientuotas į nedidelio 1931 m. dvaro atgaivinimą minimaliu biudžetu. Erdvės optimizuotos funkcionaliam prisitaikymui ir besikeičiantiems poreikiams, leidžiant pastatui pereiti nuo dviejų didelių butų į mažesnius gyvenamuosius vienetus ar konfigūracijas, tinkamas renginiams.'
                },
                FR: {
                    title: 'Projet Résidentiel',
                    location: 'Manoir de Naujaneriai, Lituanie',
                    description: 'Ce projet se concentre sur la revitalisation d\'un petit manoir de 1931 avec un budget minimal. Les espaces sont optimisés pour l\'adaptabilité fonctionnelle et les besoins évolutifs, permettant au bâtiment de passer de deux grands appartements à des unités résidentielles plus petites ou des configurations adaptées aux événements.'
                },
                date: '2025 – ongoing'
            },
            {
                folder: '3',
                images: ['image3.jpg', 'b4884149-358d-45f7-9a6b-2e596a8bd97a.jpg'],
                EN: {
                    title: 'Interior Styling Project',
                    location: 'Vilnius, Lithuania',
                    description: 'The spatial arrangement and functional layouts were reworked to maximise practical living, while balancing the proportions of the space and highlighting the historically significant features of this beautiful century-old apartment.'
                },
                LT: {
                    title: 'Interjero stilizavimo projektas',
                    location: 'Vilnius, Lietuva',
                    description: 'Erdvinis išdėstymas ir funkciniai sprendimai buvo perdirbti siekiant maksimaliai padidinti praktinį gyvenimą, kartu subalansuojant erdvės proporcijas ir išryškinant istoriškai reikšmingas šio gražaus šimtamečio buto ypatybes.'
                },
                FR: {
                    title: 'Projet de Stylisme d\'Intérieur',
                    location: 'Vilnius, Lituanie',
                    description: 'L\'aménagement spatial et les dispositions fonctionnelles ont été retravaillés pour maximiser la vie pratique, tout en équilibrant les proportions de l\'espace et en mettant en valeur les caractéristiques historiquement significatives de ce magnifique appartement centenaire.'
                },
                date: '2025'
            }
        ];

        let currentProjectIndex = 0;
        let currentImageIndices = projects.map(() => 0);
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let dragDeltaX = 0;
        let dragDeltaY = 0;
        let currentTranslateX = 0;
        let currentTranslateY = 0;
        let galleryInitialized = false;

        const verticalTrack = document.getElementById('verticalTrack');
        const projectTitle = document.getElementById('projectTitle');
        const projectLocation = document.getElementById('projectLocation');
        const projectDate = document.getElementById('projectDate');
        const projectInfo = document.getElementById('projectInfo');
        const imageCounter = document.getElementById('imageCounter');

        function getViewportHeight() {
            return window.visualViewport ? window.visualViewport.height : window.innerHeight;
        }

        function initGallery() {
            if (!galleryInitialized) {
                buildAllProjects();
                setupGalleryEventListeners();
                galleryInitialized = true;
            }
            updateProjectInfo();
            updatePositions(false);
            positionProjectInfo();
        }

        function buildAllProjects() {
            verticalTrack.innerHTML = '';

            projects.forEach((project, projectIdx) => {
                const projectRow = document.createElement('div');
                projectRow.className = 'project-row';
                projectRow.dataset.projectIndex = projectIdx;

                const horizontalTrack = document.createElement('div');
                horizontalTrack.className = 'horizontal-track';
                horizontalTrack.dataset.projectIndex = projectIdx;

                project.images.forEach((img, imgIdx) => {
                    const slide = document.createElement('div');
                    slide.className = 'carousel-slide';
                    const imageElement = document.createElement('img');
                    imageElement.src = `gallery/${project.folder}/${img}`;
                    imageElement.alt = `${project.title} - Image ${imgIdx + 1}`;

                    // Handle image loading with multiple fallbacks
                    const markAsLoaded = () => {
                        if (!imageElement.classList.contains('loaded')) {
                            imageElement.classList.add('loaded');
                        }
                    };

                    imageElement.onload = markAsLoaded;
                    imageElement.onerror = markAsLoaded; // Even on error, show the element

                    // Check if already cached/loaded
                    if (imageElement.complete && imageElement.naturalWidth > 0) {
                        markAsLoaded();
                    }

                    slide.appendChild(imageElement);
                    horizontalTrack.appendChild(slide);

                    // Check again after DOM insertion with multiple delays
                    requestAnimationFrame(() => {
                        if (imageElement.complete || imageElement.naturalWidth > 0) {
                            markAsLoaded();
                        }
                    });

                    setTimeout(() => {
                        if (imageElement.complete || imageElement.naturalWidth > 0) {
                            markAsLoaded();
                        }
                    }, 200);

                    setTimeout(() => {
                        markAsLoaded(); // Force it after 1 second regardless
                    }, 1000);
                });

                projectRow.appendChild(horizontalTrack);
                verticalTrack.appendChild(projectRow);
            });
        }

        function updatePositions(animate = true) {
            const viewportHeight = getViewportHeight();
            const verticalOffset = -currentProjectIndex * viewportHeight;
            currentTranslateY = verticalOffset;

            // Close description overlay when changing images/projects
            const projectDescriptionOverlay = document.getElementById('projectDescriptionOverlay');
            if (projectDescriptionOverlay && projectDescriptionOverlay.classList.contains('active')) {
                projectDescriptionOverlay.classList.remove('active');
            }

            if (!animate) {
                verticalTrack.classList.add('dragging');
            } else {
                verticalTrack.classList.remove('dragging');
            }

            verticalTrack.style.transform = `translateY(${verticalOffset + dragDeltaY}px)`;

            const horizontalTracks = document.querySelectorAll('.horizontal-track');
            horizontalTracks.forEach((track, idx) => {
                const imageIndex = currentImageIndices[idx];
                const horizontalOffset = -imageIndex * window.innerWidth;

                if (idx === currentProjectIndex) {
                    if (!animate) {
                        track.classList.add('dragging');
                    } else {
                        track.classList.remove('dragging');
                    }
                    track.style.transform = `translateX(${horizontalOffset + dragDeltaX}px)`;
                    currentTranslateX = horizontalOffset;
                } else {
                    track.style.transform = `translateX(${horizontalOffset}px)`;
                }
            });

            if (!animate) {
                requestAnimationFrame(() => {
                    verticalTrack.classList.remove('dragging');
                    horizontalTracks.forEach(t => t.classList.remove('dragging'));
                });
            }


            updateCounter();
        }

        function updateProjectInfo() {
            const project = projects[currentProjectIndex];
            const data = project[currentLanguage] || project.EN;

            projectTitle.textContent = data.title;
            projectLocation.textContent = data.location;
            projectDate.textContent = project.date;
            projectDescriptionOverlay.textContent = data.description || '';

            // Update Page Title
            document.title = `${data.title} | bonatelier`;

            // Update Meta Description
            const metaDesc = document.getElementById('metaDescription');
            if (metaDesc) {
                metaDesc.setAttribute('content', data.description);
            }
        }

        function updateCounter() {
            const project = projects[currentProjectIndex];
            const imageIndex = currentImageIndices[currentProjectIndex];
            if (project.images.length > 1) {
                imageCounter.textContent = `${imageIndex + 1} / ${project.images.length}`;
                imageCounter.style.display = 'block';
            } else {
                imageCounter.style.display = 'none';
            }
        }

        const projectDescriptionOverlay = document.getElementById('projectDescriptionOverlay');
        const toggleMoreInfoBtn = document.getElementById('toggleMoreInfo');

        function positionProjectInfo() {
            setTimeout(() => {
                const projectRow = verticalTrack.children[currentProjectIndex];
                if (!projectRow) return;

                const horizontalTrack = projectRow.querySelector('.horizontal-track');
                const imageIndex = currentImageIndices[currentProjectIndex];
                const slide = horizontalTrack.children[imageIndex];
                if (!slide) return;

                const img = slide.querySelector('img');
                if (!img) return;

                if (!img.complete || !img.naturalHeight) {
                    img.onload = () => positionProjectInfo();
                    return;
                }

                const viewportHeight = getViewportHeight();
                const viewportWidth = window.innerWidth;
                const maxWidth = viewportWidth * 0.6;
                const maxHeight = viewportHeight * 0.75;
                const imgRatio = img.naturalWidth / img.naturalHeight;

                const isMobile = viewportWidth <= 768;
                const mobileMaxWidth = viewportWidth * 0.9;
                const mobileMaxHeight = viewportHeight * 0.5;

                const effectiveMaxWidth = isMobile ? mobileMaxWidth : maxWidth;
                const effectiveMaxHeight = isMobile ? mobileMaxHeight : maxHeight;

                let displayWidth, displayHeight;
                if (imgRatio > effectiveMaxWidth / effectiveMaxHeight) {
                    displayWidth = Math.min(img.naturalWidth, effectiveMaxWidth);
                    displayHeight = displayWidth / imgRatio;
                } else {
                    displayHeight = Math.min(img.naturalHeight, effectiveMaxHeight);
                    displayWidth = displayHeight * imgRatio;
                }

                const imageCenterY = viewportHeight / 2;
                const imageCenterX = viewportWidth / 2;
                const imageTop = (viewportHeight - displayHeight) / 2;
                const imageBottom = imageTop + displayHeight;
                const imageRight = (viewportWidth + displayWidth) / 2;
                const imageLeft = (viewportWidth - displayWidth) / 2;

                if (isMobile) {
                    projectInfo.style.left = '50%';
                    projectInfo.style.right = 'auto';
                    projectInfo.style.transform = 'translateX(-50%)';
                    projectInfo.style.bottom = '60px';
                    projectInfo.style.textAlign = 'center';

                    imageCounter.style.left = '50%';
                    imageCounter.style.right = 'auto';
                    imageCounter.style.transform = 'translateX(-50%)';
                    imageCounter.style.bottom = '24px';
                } else {
                    // Desktop Redesign Layout
                    const rightPadding = 24;
                    const logoWidth = 32;
                    const spacing = 40;

                    // Project Info - Closer to image, but safe from credits
                    projectInfo.style.left = `${imageRight + 30}px`;
                    projectInfo.style.right = 'auto';
                    projectInfo.style.transform = 'none';
                    // Ensure it doesn't overlap with credits (bottom: 24px)
                    const infoTop = Math.min(imageBottom - 100, viewportHeight - 150) + 12;
                    projectInfo.style.top = `${infoTop}px`;
                    projectInfo.style.bottom = 'auto';
                    projectInfo.style.textAlign = 'left';

                    // Description Overlay - Centered vertically with image
                    projectDescriptionOverlay.style.left = `${imageRight + 30}px`;
                    projectDescriptionOverlay.style.top = `${imageCenterY}px`;
                    projectDescriptionOverlay.style.transform = 'translateY(-50%)';

                    // Counter - Aligned with "More information"
                    imageCounter.style.left = 'auto';
                    imageCounter.style.right = `${rightPadding}px`;
                    imageCounter.style.top = `${infoTop + 74}px`; // Match More information baseline (adjusted +22px)
                    imageCounter.style.bottom = 'auto';
                    imageCounter.style.transform = 'none';

                    // Horizontal scroll indicator (Swipe for images) - Centered at bottom
                    // Position it just above the image bottom or closer to it
                    const gap = 30; // Closer than the previous 60px
                    scrollHorizontal.style.bottom = `${viewportHeight - imageBottom - gap}px`;
                    scrollHorizontal.style.left = '50%';
                    scrollHorizontal.style.transform = 'translateX(-50%)';

                    // Vertical Indicator
                    // Ensure it stays fixed via reset of JS overrides if any
                    scrollVertical.style.right = '';
                    scrollVertical.style.bottom = '';
                    scrollVertical.style.left = '';
                    scrollVertical.style.top = '';
                    scrollVertical.style.transform = '';
                }
            }, 100);
        }

        function setupGalleryEventListeners() {
            const galleryPage = document.getElementById('page-gallery');

            galleryPage.addEventListener('mousedown', handleDragStart);
            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', handleDragEnd);

            galleryPage.addEventListener('touchstart', handleDragStart, { passive: true });
            document.addEventListener('touchmove', handleDragMove, { passive: false });
            document.addEventListener('touchend', handleDragEnd);

            document.addEventListener('keydown', handleKeydown);
            document.addEventListener('wheel', handleWheel, { passive: true });

            toggleMoreInfoBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const overlay = document.getElementById('projectDescriptionOverlay');
                if (overlay.classList.contains('active')) {
                    overlay.classList.remove('active');
                } else {
                    overlay.classList.add('active');
                }
            });

            galleryPage.addEventListener('contextmenu', e => e.preventDefault());

            const handleResize = () => {
                if (document.getElementById('page-gallery').classList.contains('active')) {
                    updatePositions(false);
                    positionProjectInfo();
                }
            };
            window.addEventListener('resize', handleResize);
            if (window.visualViewport) {
                window.visualViewport.addEventListener('resize', handleResize);
            }
        }

        function handleDragStart(e) {
            if (!document.getElementById('page-gallery').classList.contains('active')) return;

            isDragging = true;

            const point = e.touches ? e.touches[0] : e;
            startX = point.clientX;
            startY = point.clientY;
            dragDeltaX = 0;
            dragDeltaY = 0;

            verticalTrack.classList.add('dragging');
            const currentHorizontalTrack = document.querySelector(`.horizontal-track[data-project-index="${currentProjectIndex}"]`);
            if (currentHorizontalTrack) {
                currentHorizontalTrack.classList.add('dragging');
            }
        }

        function handleDragMove(e) {
            if (!isDragging) return;

            const point = e.touches ? e.touches[0] : e;
            const deltaX = point.clientX - startX;
            const deltaY = point.clientY - startY;

            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                dragDeltaX = deltaX;
                dragDeltaY = 0;
                if (e.cancelable) e.preventDefault();
            } else {
                dragDeltaX = 0;
                dragDeltaY = deltaY;
                if (e.cancelable) e.preventDefault();
            }

            const viewportHeight = getViewportHeight();
            const verticalOffset = -currentProjectIndex * viewportHeight + dragDeltaY;
            verticalTrack.style.transform = `translateY(${verticalOffset}px)`;

            const currentHorizontalTrack = document.querySelector(`.horizontal-track[data-project-index="${currentProjectIndex}"]`);
            if (currentHorizontalTrack) {
                const imageIndex = currentImageIndices[currentProjectIndex];
                const horizontalOffset = -imageIndex * window.innerWidth + dragDeltaX;
                currentHorizontalTrack.style.transform = `translateX(${horizontalOffset}px)`;
            }
        }

        function handleDragEnd(e) {
            if (!isDragging) return;
            isDragging = false;

            verticalTrack.classList.remove('dragging');
            const currentHorizontalTrack = document.querySelector(`.horizontal-track[data-project-index="${currentProjectIndex}"]`);
            if (currentHorizontalTrack) {
                currentHorizontalTrack.classList.remove('dragging');
            }

            const swipeThreshold = 80;
            const project = projects[currentProjectIndex];
            const imageIndex = currentImageIndices[currentProjectIndex];

            let projectChanged = false;

            if (Math.abs(dragDeltaX) > Math.abs(dragDeltaY) && Math.abs(dragDeltaX) > swipeThreshold) {
                if (dragDeltaX > 0) {
                    if (imageIndex > 0) {
                        currentImageIndices[currentProjectIndex]--;
                    } else {
                        currentImageIndices[currentProjectIndex] = project.images.length - 1; // Loop to last
                    }
                } else if (dragDeltaX < 0) {
                    if (imageIndex < project.images.length - 1) {
                        currentImageIndices[currentProjectIndex]++;
                    } else {
                        currentImageIndices[currentProjectIndex] = 0; // Loop to first
                    }
                }
            } else if (Math.abs(dragDeltaY) > swipeThreshold) {
                if (dragDeltaY > 0 && currentProjectIndex > 0) {
                    currentProjectIndex--;
                    projectChanged = true;
                } else if (dragDeltaY < 0 && currentProjectIndex < projects.length - 1) {
                    currentProjectIndex++;
                    projectChanged = true;
                }
            }

            dragDeltaX = 0;
            dragDeltaY = 0;

            updatePositions(true);
            updateGalleryHash(); // Update URL for deep linking

            if (projectChanged) {
                projectInfo.classList.add('transitioning');
                setTimeout(() => {
                    updateProjectInfo();
                    projectInfo.classList.remove('transitioning');
                    positionProjectInfo();
                }, 200);
            } else {
                positionProjectInfo();
            }
        }

        function handleKeydown(e) {
            if (!document.getElementById('page-gallery').classList.contains('active')) return;

            const project = projects[currentProjectIndex];
            const imageIndex = currentImageIndices[currentProjectIndex];
            let projectChanged = false;

            switch (e.key) {
                case 'ArrowRight':
                    if (imageIndex < project.images.length - 1) {
                        currentImageIndices[currentProjectIndex]++;
                    } else {
                        currentImageIndices[currentProjectIndex] = 0; // Loop to first
                    }
                    updatePositions(true);
                    updateGalleryHash();
                    positionProjectInfo();
                    break;
                case 'ArrowLeft':
                    if (imageIndex > 0) {
                        currentImageIndices[currentProjectIndex]--;
                    } else {
                        currentImageIndices[currentProjectIndex] = project.images.length - 1; // Loop to last
                    }
                    updatePositions(true);
                    updateGalleryHash();
                    positionProjectInfo();
                    break;
                case 'ArrowDown':
                    if (currentProjectIndex < projects.length - 1) {
                        currentProjectIndex++;
                        projectChanged = true;
                    }
                    break;
                case 'ArrowUp':
                    if (currentProjectIndex > 0) {
                        currentProjectIndex--;
                        projectChanged = true;
                    }
                    break;
            }

            if (projectChanged) {
                projectInfo.classList.add('transitioning');
                updatePositions(true);
                updateGalleryHash();
                setTimeout(() => {
                    updateProjectInfo();
                    projectInfo.classList.remove('transitioning');
                    positionProjectInfo();
                }, 200);
            }
        }

        let lastWheelTime = 0;
        let wheelAccumulatorX = 0;
        let wheelAccumulatorY = 0;

        // Cooldowns
        const MOUSE_WHEEL_COOLDOWN = 100;
        const TRACKPAD_COOLDOWN = 300;     // Slightly faster for trackpad
        let currentCooldown = TRACKPAD_COOLDOWN;

        let isNavigating = false;
        function handleWheel(e) {
            if (!document.getElementById('page-gallery').classList.contains('active')) return;

            const dx = e.deltaX;
            const dy = e.deltaY;

            // Simple magnitude check
            const threshold = 40;
            if (isNavigating) return;

            let actionTaken = false;
            let projectChanged = false;

            if (Math.abs(dx) > Math.abs(dy)) {
                if (Math.abs(dx) > threshold) {
                    const project = projects[currentProjectIndex];
                    if (dx > 0) {
                        if (currentImageIndices[currentProjectIndex] < project.images.length - 1) {
                            currentImageIndices[currentProjectIndex]++;
                            actionTaken = true;
                        } else {
                            currentImageIndices[currentProjectIndex] = 0; // Loop to first
                            actionTaken = true;
                        }
                    } else if (dx < 0) {
                        if (currentImageIndices[currentProjectIndex] > 0) {
                            currentImageIndices[currentProjectIndex]--;
                            actionTaken = true;
                        } else {
                            currentImageIndices[currentProjectIndex] = project.images.length - 1; // Loop to last
                            actionTaken = true;
                        }
                    }
                }
            } else {
                if (Math.abs(dy) > threshold) {
                    if (dy > 0 && currentProjectIndex < projects.length - 1) {
                        currentProjectIndex++;
                        projectChanged = true;
                        actionTaken = true;
                    } else if (dy < 0 && currentProjectIndex > 0) {
                        currentProjectIndex--;
                        projectChanged = true;
                        actionTaken = true;
                    }
                }
            }

            if (actionTaken) {
                isNavigating = true;
                updatePositions(true);
                updateGalleryHash();

                if (projectChanged) {
                    projectInfo.classList.add('transitioning');
                    setTimeout(() => {
                        updateProjectInfo();
                        projectInfo.classList.remove('transitioning');
                        positionProjectInfo();
                    }, 200);
                } else {
                    positionProjectInfo();
                }

                // Cooldown to prevent multiple triggers from one trackpad swipe
                setTimeout(() => {
                    isNavigating = false;
                }, 600);
            }
        }


        // Language switcher logic
        function setLanguage(event, lang) {
            if (event) event.preventDefault();
            currentLanguage = lang;

            const content = translations[lang];
            if (!content) return;

            // Update all translate elements
            document.querySelectorAll('.translate').forEach(element => {
                const key = element.dataset.key;
                if (content[key]) {
                    element.textContent = content[key];
                }
            });

            // Update language switcher active state
            const links = document.querySelectorAll('.language-switcher a');
            links.forEach(link => {
                if (link.innerText === lang) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });

            // Update project information if in gallery
            if (document.getElementById('page-gallery').classList.contains('active')) {
                updateProjectInfo();
            }

            console.log(`Language set to: ${lang}`);
        }

        // Custom Cursor Logic
        const cursorDot = document.getElementById('cursorDot');
        const cursorOutline = document.getElementById('cursorOutline');

        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;

            cursorDot.style.transform = `translate(${posX - 4}px, ${posY - 4}px)`;

            // Outline follows with a slight delay
            requestAnimationFrame(() => {
                cursorOutline.style.left = `${posX}px`;
                cursorOutline.style.top = `${posY}px`;
            });
        });

        document.querySelectorAll('a, button, .project-more, .carousel-slide img, .team-member').forEach(link => {
            link.addEventListener('mouseenter', () => document.body.classList.add('cursor-hover'));
            link.addEventListener('mouseleave', () => document.body.classList.remove('cursor-hover'));
        });

        // ==========================================
        // LANDING PAGE
        // ==========================================
        (function () {
            const landingEl = document.getElementById('landing-page');
            const track = document.getElementById('landingCarouselTrack');
            const arrowLeft = document.getElementById('landingArrowLeft');
            const arrowRight = document.getElementById('landingArrowRight');
            const chevLeft = document.getElementById('landingChevronLeft');
            const chevRight = document.getElementById('landingChevronRight');

            if (!landingEl || !track) return;

            // Excluded images (plan screenshots)
            const EXCLUDED = [
                'Screenshot 2026-01-04 at 12.15.49.png'
            ];

            // Collect all images from all projects, excluding plan images
            const allImages = [];
            projects.forEach(proj => {
                proj.images.forEach(img => {
                    if (!EXCLUDED.some(excl => img.includes(excl))) {
                        allImages.push(`gallery/${proj.folder}/${img}`);
                    }
                });
            });

            // Build carousel items (triple for seamless bidirectional loop)
            const imageSet = [...allImages, ...allImages, ...allImages];
            imageSet.forEach(src => {
                const item = document.createElement('div');
                item.className = 'landing-carousel-item';
                const img = document.createElement('img');
                img.src = src;
                img.draggable = false;
                item.appendChild(img);
                track.appendChild(item);
            });

            // Set carousel height via CSS var
            document.documentElement.style.setProperty('--carousel-h', '46vh');

            // Carousel state
            let offset = 0;
            let autoScrollInterval = null;
            let isHoveringArrow = false;
            let hoverInterval = null;
            let isEntering = false;

            function getItemWidth() {
                const first = track.querySelector('.landing-carousel-item');
                if (!first) return 200;
                return first.offsetWidth + 20; // gap = 20px
            }

            // Keep offset in the "middle copy" [single, 2*single)
            // so both left and right directions have room to loop.
            function setOffset(val) {
                const single = allImages.length * getItemWidth();
                if (val >= 2 * single) val -= single;
                if (val < single) val += single;
                offset = val;
                track.style.transform = `translateX(${-offset}px)`;
            }

            // Auto-scroll
            function startAutoScroll() {
                autoScrollInterval = setInterval(() => {
                    if (!isHoveringArrow) setOffset(offset + 0.5);
                }, 16);
            }

            // Arrow hover scroll
            function startHoverScroll(dir) {
                isHoveringArrow = true;
                hoverInterval = setInterval(() => {
                    setOffset(offset + dir * 4);
                }, 16);
            }

            function stopHoverScroll() {
                isHoveringArrow = false;
                clearInterval(hoverInterval);
            }

            // Arrow zones control scroll speed
            arrowLeft.addEventListener('mouseenter', () => startHoverScroll(-1));
            arrowLeft.addEventListener('mouseleave', stopHoverScroll);
            arrowRight.addEventListener('mouseenter', () => startHoverScroll(1));
            arrowRight.addEventListener('mouseleave', stopHoverScroll);

            // Show/hide landing page
            function showLanding() {
                isEntering = false;
                offset = 0;
                track.style.transform = 'translateX(0)';
                landingEl.style.display = '';
                requestAnimationFrame(() => {
                    landingEl.classList.remove('hidden');
                });
                document.body.classList.add('on-landing');
                startAutoScroll();
            }

            // Enter site on click anywhere on landing page
            function enterSite() {
                if (isEntering) return;
                isEntering = true;
                clearInterval(autoScrollInterval);
                clearInterval(hoverInterval);
                landingEl.classList.add('hidden');
                document.body.classList.remove('on-landing');
                window.location.hash = '#gallery';
                setTimeout(() => { landingEl.style.display = 'none'; }, 900);
            }

            landingEl.addEventListener('click', enterSite);
            document.addEventListener('keydown', function onKey() {
                document.removeEventListener('keydown', onKey);
                enterSite();
            });

            // Nav logo → back to landing page
            const navLogoLink = document.getElementById('navLogoLink');
            if (navLogoLink) {
                navLogoLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    showLanding();
                });
            }

            // Init — mark body as on-landing for white cursor, then start at middle copy
            document.body.classList.add('on-landing');
            track.style.transition = 'none';
            // Wait for images to render so getItemWidth() returns real sizes,
            // then jump to the middle copy so left AND right arrows loop correctly.
            setTimeout(() => {
                const single = allImages.length * getItemWidth();
                offset = single;
                track.style.transform = `translateX(${-single}px)`;
                startAutoScroll();
            }, 300);
        })();

        // Initialize Router
        initRouter();

        // ==========================================
        // MOBILE GALLERY LIGHTBOX
        // Only active on mobile (≤768px)
        // ==========================================
        (function () {
            const lightbox = document.getElementById('gallery-lightbox');
            const lightboxImg = document.getElementById('gallery-lightbox-img');
            const lightboxClose = document.getElementById('gallery-lightbox-close');
            if (!lightbox) return;

            function openLightbox(src) {
                if (window.innerWidth > 768) return; // desktop: no lightbox
                lightboxImg.src = src;
                lightbox.classList.add('open');
            }

            function closeLightbox() {
                lightbox.classList.remove('open');
                lightboxImg.src = '';
            }

            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) closeLightbox();
            });

            // Delegate tap on gallery images to open lightbox
            document.addEventListener('click', (e) => {
                const img = e.target.closest('.carousel-slide img');
                if (img && window.innerWidth <= 768) {
                    openLightbox(img.src);
                }
            });
        })();

        // ==========================================
        // MOBILE NAV LOGO → LANDING PAGE
        // ==========================================
        (function () {
            const mobileNavLogo = document.getElementById('mobileNavLogo');
            if (!mobileNavLogo) return;
            mobileNavLogo.style.cursor = 'pointer';
            mobileNavLogo.addEventListener('click', (e) => {
                e.preventDefault();
                // Trigger the same showLanding logic via the navLogoLink
                const navLogoLink = document.getElementById('navLogoLink');
                if (navLogoLink) navLogoLink.click();
            });
        })();

    </script>
</body>

</html>