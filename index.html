<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bonatellierspaces | Architecture Studio</title>
    <meta name="description" id="metaDescription"
        content="bonatellierspaces - A contemporary architecture studio crafting spaces that inspire.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="logo.png">

    <!-- Fonts - Using system fonts -->


    <style>
        /* CSS Reset */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none !important;
        }

        :root {
            --bg: #fdfcfb;
            --accent: #1a1a1a;
            --text-primary: #1a1a1a;
            --text-secondary: rgba(26, 26, 26, 0.5);
            --font-main: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            --font-heading: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            --transition-speed: 0.6s;
            --transition-ease: cubic-bezier(0.2, 0, 0.2, 1);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-main);
            font-weight: 300;
            background-color: var(--bg);
            color: var(--text-primary);
            line-height: 1.5;
            overflow: hidden;
            height: 100vh;
            height: 100dvh;
            width: 100vw;
            user-select: none;
            -webkit-user-select: none;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* Navigation - Top left */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            padding: 24px;
        }

        .nav-logo {
            height: 28px;
            width: auto;
        }

        .nav-logo-desktop,
        .nav-logo-box {
            display: none;
        }

        @media (min-width: 769px) {
            .nav-logo {
                display: none;
            }

            .nav-logo-desktop {
                display: block;
                height: 32px;
                width: auto;
            }

            .nav-logo-box {
                position: fixed;
                top: 24px;
                right: 24px;
                height: 42px;
                /* Increased from 32px by 131% */
                width: auto;
                z-index: 1100;
                display: block;
            }
        }

        /* Menu - Top left under logo */
        .menu {
            position: fixed;
            top: 25vh;
            left: 24px;
            z-index: 1000;
        }

        .menu-section {
            margin-bottom: 16px;
        }

        .menu-title {
            font-size: 0.7rem;
            font-weight: 400;
            letter-spacing: 0.02em;
            margin-bottom: 6px;
            color: var(--text-primary);
        }

        .menu-list {
            list-style: none;
        }

        .menu-list li {
            margin-bottom: 3px;
        }

        .menu-list a {
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 0.85rem;
            font-weight: 400;
            letter-spacing: 0.02em;
            color: var(--text-secondary);
            transition: color 0.2s;
        }

        .menu-list a:hover,
        .menu-list a.active {
            color: var(--text-primary);
        }

        /* Language Switcher - Bottom left */
        .language-switcher {
            position: fixed;
            bottom: 24px;
            left: 24px;
            z-index: 1000;
            display: flex;
            gap: 12px;
        }

        .language-switcher a {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: var(--text-secondary);
            transition: color 0.2s;
        }

        .language-switcher a:hover,
        .language-switcher a.active {
            color: var(--text-primary);
        }

        /* Credits - Bottom right */
        .website-credits {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 1100;
            font-size: 0.65rem;
            font-weight: 300;
            color: var(--text-secondary);
            pointer-events: none;
        }

        @media (max-width: 768px) {

            .language-switcher,
            .website-credits {
                display: none;
            }
        }

        /* Page Container */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            height: 100dvh;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-speed) var(--transition-ease), visibility var(--transition-speed) var(--transition-ease);
            overflow: hidden;
            background-color: var(--bg);
        }

        .page.active {
            opacity: 1;
            visibility: visible;
            z-index: 500;
        }

        /* ========================================
           GALLERY PAGE
           ======================================== */
        .viewer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .vertical-track {
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .vertical-track.dragging {
            transition: none;
        }

        .project-row {
            width: 100vw;
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
        }

        .horizontal-track {
            display: flex;
            height: 100%;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .horizontal-track.dragging {
            transition: none;
        }

        .carousel-slide {
            flex-shrink: 0;
            width: 100vw;
            height: 100vh;
            height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-slide img {
            max-width: 60vw;
            max-height: 75vh;
            max-height: 75dvh;
            object-fit: contain;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.98);
            transition: opacity 1s var(--transition-ease), transform 1.2s var(--transition-ease);
        }

        .carousel-slide img.loaded {
            opacity: 1;
            transform: scale(1);
        }

        .project-info {
            position: fixed;
            z-index: 1000;
            text-align: left;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .project-info.transitioning {
            opacity: 0;
            transform: translateY(10px);
        }

        .project-title {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .project-location,
        .project-date {
            font-size: 0.65rem;
            font-weight: 300;
            color: var(--text-secondary);
            margin-bottom: 2px;
        }

        .project-more {
            font-size: 0.65rem;
            font-weight: 300;
            color: var(--text-primary);
            text-decoration: underline;
            cursor: pointer;
            transition: opacity 0.2s;
            margin-top: 12px;
            display: inline-block;
        }

        .project-description-overlay {
            position: fixed;
            z-index: 1000;
            max-width: 300px;
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 0.8rem;
            line-height: 1.7;
            color: var(--text-primary);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: opacity 0.4s var(--transition-ease), visibility 0.4s var(--transition-ease), transform 0.4s var(--transition-ease);
            pointer-events: none;
        }

        .project-description-overlay.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .project-more:hover {
            color: var(--text-primary);
        }

        .image-counter {
            position: fixed;
            font-size: 0.65rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            z-index: 1000;
        }

        .scroll-horizontal {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            font-size: 0.6rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            text-transform: uppercase;
            opacity: 0.5;
            pointer-events: none;
        }

        .scroll-vertical {
            position: fixed;
            right: 24px;
            top: 50%;
            transform: translate(50%, -50%) rotate(90deg);
            transform-origin: center center;
            z-index: 1000;
            font-size: 0.6rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            text-transform: uppercase;
            opacity: 0.5;
            pointer-events: none;
            white-space: nowrap;
        }

        /* ========================================
           CONTENT PAGES (About, Process, Context)
           ======================================== */
        .content-page {
            padding: 100px 200px 60px 320px;
            overflow-y: auto;
            height: 100%;
        }

        .content-page h1 {
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 2rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        .content-page p {
            font-size: 0.65rem;
            font-weight: 300;
            line-height: 1.7;
            max-width: 300px;
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
        }

        /* Team Grid for About page */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .team-member {
            text-align: left;
        }

        .team-member-photo {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #d0c9c3 0%, #b8b0a8 100%);
        }

        .team-member-name {
            font-size: 0.85rem;
            font-weight: 400;
            margin-bottom: 0.25rem;
        }

        .team-member-role {
            font-size: 0.7rem;
            font-weight: 300;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .team-member-bio {
            font-size: 0.7rem;
            font-weight: 300;
            line-height: 1.5;
            color: var(--text-secondary);
        }

        /* ========================================
           MOBILE ADJUSTMENTS
           ======================================== */
        @media (max-width: 768px) {
            .menu {
                display: none;
            }

            .footer-links {
                display: none;
            }

            .carousel-slide img {
                max-width: 90vw;
                max-height: 50vh;
                max-height: 50dvh;
            }

            .project-info {
                left: 50%;
                right: auto;
                bottom: 60px !important;
                transform: translateX(-50%);
                text-align: center;
            }

            .project-info.transitioning {
                transform: translateX(-50%) translateY(20px);
            }

            .image-counter {
                left: 50%;
                right: auto;
                bottom: 24px;
                transform: translateX(-50%);
            }

            .scroll-indicator {
                display: none;
            }

            .content-page {
                padding: 80px 24px 40px 24px;
            }

            .content-page h1 {
                font-size: 1.4rem;
            }



            .team-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }
        }


        /* Mobile navigation toggle - hamburger icon */
        .mobile-nav-toggle {
            display: none;
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 1001;
            background: none;
            border: none;
            width: 24px;
            height: 18px;
            cursor: pointer;
            padding: 0;
        }

        .mobile-nav-toggle span {
            display: block;
            width: 100%;
            height: 2px;
            background-color: #302020;
            margin-bottom: 5px;
            transition: transform 0.3s, opacity 0.3s;
        }

        .mobile-nav-toggle span:last-child {
            margin-bottom: 0;
        }

        .mobile-nav-toggle.active span:nth-child(1) {
            transform: translateY(7px) rotate(45deg);
        }

        .mobile-nav-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-nav-toggle.active span:nth-child(3) {
            transform: translateY(-7px) rotate(-45deg);
        }

        @media (max-width: 768px) {
            .mobile-nav-toggle {
                display: block;
            }
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .mobile-nav.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav a {
            font-family: Baskerville, 'Baskerville Old Face', 'Times New Roman', serif;
            font-size: 1.2rem;
            font-weight: 400;
            margin: 0.75rem 0;
            color: var(--text-secondary);
            transition: color 0.2s;
        }

        .mobile-nav a:hover,
        .mobile-nav a.active {
            color: var(--text-primary);
        }

        /* Custom Cursor */
        .cursor-dot {
            width: 5px;
            height: 5px;
            background-color: var(--text-secondary);
            border-radius: 50%;
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s ease;
        }

        .cursor-outline {
            width: 28px;
            height: 28px;
            border: 1px solid rgba(26, 26, 26, 0.2);
            border-radius: 50%;
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9998;
            transition: transform 0.2s var(--transition-ease), opacity 0.2s var(--transition-ease), width 0.3s var(--transition-ease), height 0.3s var(--transition-ease);
            transform: translate(-50%, -50%);
        }

        .cursor-hover .cursor-outline {
            width: 48px;
            height: 48px;
            background-color: rgba(26, 26, 26, 0.02);
            border-color: rgba(26, 26, 26, 0.3);
        }

        @media (max-width: 1024px) {

            .cursor-dot,
            .cursor-outline {
                display: none;
            }

            * {
                cursor: auto !important;
            }
        }

        /* Team Photo Hover */
        .team-member-photo {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            margin-bottom: 1rem;
            filter: grayscale(1);
            transition: filter 0.6s var(--transition-ease), transform 0.6s var(--transition-ease);
        }

        .team-member:hover .team-member-photo {
            filter: grayscale(0);
            transform: scale(1.02);
        }
    </style>
</head>

<body>
    <div class="cursor-dot" id="cursorDot"></div>
    <div class="cursor-outline" id="cursorOutline"></div>

    <!-- Navigation -->
    <nav class="nav">
        <a href="#gallery">
            <img src="Text Logo BR.png" alt="bonatellierspaces" class="nav-logo">
            <img src="Text Logo BR.png" alt="bonatelier" class="nav-logo-desktop">
        </a>
    </nav>
    <img src="Box Logo BR.png" alt="logo" class="nav-logo-box">

    <!-- Desktop Menu -->
    <div class="menu">
        <div class="menu-section">
            <ul class="menu-list">
                <li><a href="#gallery" data-page="gallery" class="translate" data-key="gallery">Gallery</a></li>
                <li><a href="#about" data-page="about" class="translate" data-key="about">About</a></li>
                <li><a href="#process" data-page="process" class="translate" data-key="process">Process</a></li>
                <li><a href="#contacts" data-page="contacts" class="translate" data-key="contacts">Contacts</a></li>
            </ul>
        </div>
    </div>

    <!-- Mobile Nav Toggle (Hamburger) -->
    <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
        <a href="#gallery" data-page="gallery" class="translate" data-key="gallery">Gallery</a>
        <a href="#about" data-page="about" class="translate" data-key="about">About</a>
        <a href="#process" data-page="process" class="translate" data-key="process">Process</a>
        <a href="#contacts" data-page="contacts" class="translate" data-key="contacts">Contacts</a>
    </div>

    <!-- Language Switcher -->
    <div class="language-switcher">
        <a href="#" class="active" onclick="setLanguage(event, 'EN')">EN</a>
        <a href="#" onclick="setLanguage(event, 'LT')">LT</a>
        <a href="#" onclick="setLanguage(event, 'FR')">FR</a>
    </div>

    <!-- Website Credits -->
    <div class="website-credits translate" data-key="credits" id="credits">© Bonatelier Spaces 2026</div>



    <!-- ==========================================
         PAGE: GALLERY
         ========================================== -->
    <main class="page active" id="page-gallery">
        <div class="viewer">
            <div class="vertical-track" id="verticalTrack"></div>
        </div>

        <div class="project-description-overlay" id="projectDescriptionOverlay"></div>

        <div class="project-info" id="projectInfo">
            <div class="project-title" id="projectTitle"></div>
            <div class="project-location" id="projectLocation"></div>
            <div class="project-date" id="projectDate"></div>
            <a class="project-more translate" id="toggleMoreInfo" data-key="moreInfo">More information</a>
        </div>

        <div class="image-counter" id="imageCounter"></div>

        <div class="scroll-indicator scroll-horizontal translate" id="scrollHorizontal" data-key="swipeImages">← SWIPE
            FOR MORE IMAGES →</div>
        <div class="scroll-indicator scroll-vertical translate" id="scrollVertical" data-key="swipeProjects">← SWIPE FOR
            MORE PROJECTS →</div>
    </main>

    <!-- ==========================================
         PAGE: ABOUT
         ========================================== -->
    <main class="page" id="page-about">
        <div class="content-page">
            <h1><span class="translate" data-key="about">ABOUT</span></h1>
            <p class="translate" data-key="aboutDescription">
                bonatellierspaces is a contemporary architecture studio founded on the belief that great spaces
                emerge from the intersection of innovation and timeless design principles. We craft environments
                that inspire, function beautifully, and stand the test of time.
            </p>
            <p class="translate" data-key="aboutPhilosophy">
                Our multidisciplinary approach brings together architecture, interior design, and spatial thinking
                to create holistic solutions for residential, commercial, and cultural projects.
            </p>

            <div class="team-grid">
                <div class="team-member">
                    <img src="assets/augusta.jpg" alt="Augusta" class="team-member-photo">
                    <div class="team-member-name">Augusta</div>
                    <div class="team-member-role">Principal Architect</div>
                    <div class="team-member-bio translate" data-key="teamAugustaBio">
                        With over 15 years of experience in architectural design, leading projects across
                        Europe and beyond.
                    </div>
                </div>
                <div class="team-member">
                    <img src="assets/emilia.jpg" alt="Emilia" class="team-member-photo">
                    <div class="team-member-name">Emilia</div>
                    <div class="team-member-role">Design Director</div>
                    <div class="team-member-bio translate" data-key="teamEmiliaBio">
                        Specializing in creating harmonious interior spaces that balance
                        aesthetics with functionality.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ==========================================
         PAGE: PROCESS
         ========================================== -->
    <main class="page" id="page-process">
        <div class="content-page">
            <h1><span class="translate" data-key="process">PROCESS</span></h1>
            <p class="translate" data-key="processIntro">
                Our design process is rooted in deep understanding — of context, of materials, of the
                human experience. Every project begins with listening: to our clients, to the site,
                to the aspirations that will shape the final design.
            </p>
            <p>
                <strong class="translate" data-key="processDiscovery">Discovery</strong><br>
                <span class="translate" data-key="processDiscoveryText">
                    We begin each project with comprehensive research and site analysis, understanding the
                    physical, cultural, and emotional context in which we'll be working.
                </span>
            </p>
            <p>
                <strong class="translate" data-key="processConcept">Concept</strong><br>
                <span class="translate" data-key="processConceptText">
                    From initial sketches to detailed studies, we explore multiple directions before
                    arriving at a design that feels inevitable — as if it couldn't exist any other way.
                </span>
            </p>
            <p>
                <strong class="translate" data-key="processDevelopment">Development</strong><br>
                <span class="translate" data-key="processDevelopmentText">
                    Rigorous technical development ensures our creative vision is buildable, sustainable,
                    and meets the highest standards of quality.
                </span>
            </p>
            <p>
                <strong class="translate" data-key="processRealization">Realization</strong><br>
                <span class="translate" data-key="processRealizationText">
                    We remain deeply involved through construction, ensuring the finished space matches
                    the precision and care of our original design intent.
                </span>
            </p>
        </div>
    </main>

    <!-- ==========================================
         PAGE: CONTACTS
         ========================================== -->
    <main class="page" id="page-contacts">
        <div class="content-page">
            <h1><span class="translate" data-key="contacts">CONTACTS</span></h1>
            <p class="translate" data-key="contactsIntro">
                For project enquiries, please feel free to reach out to us directly.
            </p>
            <p>
                <strong class="translate" data-key="emailLabel">Email</strong><br>
                <a href="mailto:ae.bonatelier@gmail.com" style="text-decoration: underline;">ae.bonatelier@gmail.com</a>
            </p>
            <p>
                <strong class="translate" data-key="phoneLabel">Phone</strong><br>
                +370 65557983
            </p>
            <p>
                <strong class="translate" data-key="addressLabel">Address</strong><br>
                Gelių g. 4, 01137, Vilnius
            </p>
            <p>
                <strong class="translate" data-key="socialLabel">Social</strong><br>
                <a href="https://www.instagram.com/bonatelierspaces/" target="_blank"
                    style="text-decoration: underline;">Instagram</a><br>
                <a href="https://ca.pinterest.com/spacesbybonatelier/" target="_blank"
                    style="text-decoration: underline;">Pinterest</a>
            </p>
        </div>
    </main>

    <script>
        // ==========================================
        // ROUTER
        // ==========================================
        function initRouter() {
            const pages = document.querySelectorAll('.page');
            const navLinks = document.querySelectorAll('[data-page]');

            function navigateTo(pageId, projectIdx = null, imageIdx = null) {
                // Hide all pages
                pages.forEach(page => page.classList.remove('active'));

                // Show target page
                const targetPage = document.getElementById(`page-${pageId}`);
                if (targetPage) {
                    targetPage.classList.add('active');
                }

                // Update active nav links
                navLinks.forEach(link => {
                    if (link.dataset.page === pageId) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });

                // Close mobile nav
                document.getElementById('mobileNav').classList.remove('active');
                document.getElementById('mobileNavToggle').classList.remove('active');

                // Initialize gallery with specific position if provided
                if (pageId === 'gallery') {
                    if (projectIdx !== null && projectIdx >= 0 && projectIdx < projects.length) {
                        currentProjectIndex = projectIdx;
                        if (imageIdx !== null && imageIdx >= 0 && imageIdx < projects[projectIdx].images.length) {
                            currentImageIndices[projectIdx] = imageIdx;
                        }
                    }
                    initGallery();
                }
            }

            function parseHash(hash) {
                // Parse formats: 'gallery', 'gallery/1', 'gallery/1/2', 'about', etc.
                const parts = hash.split('/');
                const pageId = parts[0] || 'gallery';
                const projectIdx = parts[1] !== undefined ? parseInt(parts[1], 10) : null;
                const imageIdx = parts[2] !== undefined ? parseInt(parts[2], 10) : null;
                return { pageId, projectIdx, imageIdx };
            }

            function handleHashChange() {
                const hash = window.location.hash.slice(1) || 'gallery';
                const { pageId, projectIdx, imageIdx } = parseHash(hash);
                navigateTo(pageId, projectIdx, imageIdx);
            }

            // Listen for hash changes
            window.addEventListener('hashchange', handleHashChange);

            // Handle initial load
            handleHashChange();

            // Mobile nav toggle
            const mobileNavToggle = document.getElementById('mobileNavToggle');
            const mobileNav = document.getElementById('mobileNav');

            mobileNavToggle.addEventListener('click', () => {
                mobileNav.classList.toggle('active');
                mobileNavToggle.classList.toggle('active');
            });
        }

        // Update URL hash for gallery position (without triggering navigation)
        function updateGalleryHash() {
            const projectIdx = currentProjectIndex;
            const imageIdx = currentImageIndices[projectIdx];
            const newHash = `#gallery/${projectIdx}/${imageIdx}`;

            // Use replaceState to update URL without adding to history for every swipe
            history.replaceState(null, '', newHash);
        }

        // ==========================================
        // TRANSLATIONS
        // ==========================================
        const translations = {
            EN: {
                gallery: "Gallery",
                about: "About",
                process: "Process",
                contacts: "Contacts",
                moreInfo: "More information",
                swipeImages: "← SWIPE FOR MORE IMAGES →",
                swipeProjects: "← SWIPE FOR MORE PROJECTS →",
                credits: "© Bonatelier Spaces 2026",
                aboutDescription: "bonatellierspaces is a contemporary architecture studio founded on the belief that great spaces emerge from the intersection of innovation and timeless design principles. We craft environments that inspire, function beautifully, and stand the test of time.",
                aboutPhilosophy: "Our multidisciplinary approach brings together architecture, interior design, and spatial thinking to create holistic solutions for residential, commercial, and cultural projects.",
                teamAugustaBio: "With over 15 years of experience in architectural design, leading projects across Europe and beyond.",
                teamEmiliaBio: "Specializing in creating harmonious interior spaces that balance aesthetics with functionality.",
                processIntro: "Our design process is rooted in deep understanding — of context, of materials, of the human experience. Every project begins with listening: to our clients, to the site, to the aspirations that will shape the final design.",
                processDiscovery: "Discovery",
                processDiscoveryText: "We begin each project with comprehensive research and site analysis, understanding the physical, cultural, and emotional context in which we'll be working.",
                processConcept: "Concept",
                processConceptText: "From initial sketches to detailed studies, we explore multiple directions before arriving at a design that feels inevitable — as if it couldn't exist any other way.",
                processDevelopment: "Development",
                processDevelopmentText: "Rigorous technical development ensures our creative vision is buildable, sustainable, and meets the highest standards of quality.",
                processRealization: "Realization",
                processRealizationText: "We remain deeply involved through construction, ensuring the finished space matches the precision and care of our original design intent.",
                contactsIntro: "For project enquiries, please feel free to reach out to us directly.",
                emailLabel: "Email",
                phoneLabel: "Phone",
                addressLabel: "Address",
                socialLabel: "Social"
            },
            LT: {
                gallery: "Galerija",
                about: "Apie",
                process: "Procesas",
                contacts: "Kontaktai",
                moreInfo: "Daugiau informacijos",
                swipeImages: "← BRAUKITE DAUGIAU NUOTRAUKŲ →",
                swipeProjects: "← BRAUKITE DAUGIAU PROJEKTŲ →",
                credits: "© Bonatelier Spaces 2026",
                aboutDescription: "bonatellierspaces yra šiuolaikinė architektūros studija, įkurta tikint, kad puikios erdvės atsiranda inovacijų ir nesenstančių dizaino principų sankirtoje. Mes kuriame aplinką, kuri įkvepia, gražiai funkcionuoja ir atlaiko laiko išbandymus.",
                aboutPhilosophy: "Mūsų daugiadalykis požiūris apjungia architektūrą, interjero dizainą ir erdvinį mąstymą, siekiant sukurti holistinius sprendimus gyvenamiesiems, komerciniams ir kultūriniams projektams.",
                teamAugustaBio: "Turinti daugiau nei 15 metų patirties architektūriniame projektavime, vadovaujanti projektams visoje Europoje ir už jos ribų.",
                teamEmiliaBio: "Specializuojasi kuriant harmoningas interjero erdves, kuriose estetiką derina su funkcionalumu.",
                processIntro: "Mūsų projektavimo procesas remiasi giliu supratimu – konteksto, medžiagų, žmogaus patirties. Kiekvienas projektas prasideda nuo klausymosi: mūsų klientų, vietos, lūkesčių, kurie suformuos galutinį dizainą.",
                processDiscovery: "Atradimas",
                processDiscoveryText: "Kiekvieną projektą pradedame nuo išsamių tyrimų ir vietos analizės, suprasdami fizinį, kultūrinį ir emocinį kontekstą, kuriame dirbsime.",
                processConcept: "Koncepcija",
                processConceptText: "Nuo pradinių eskizų iki detalių studijų tiriame kelias kryptis, kol pasiekiame dizainą, kuris atrodo neišvengiamas – lyg jis negalėtų egzistuoti kitaip.",
                processDevelopment: "Vystymas",
                processDevelopmentText: "Griežtas techninis vystymas užtikrina, kad mūsų kūrybinė vizija būtų įgyvendinama, tvari ir atitiktų aukščiausius kokybės standartus.",
                processRealization: "Realizacija",
                processRealizationText: "Mes liekame giliai įsitraukę viso statybos proceso metu, užtikrindami, kad užbaigta erdvė atitiktų mūsų pradinio dizaino tikslumą ir rūpestį.",
                contactsIntro: "Dėl projektų užklausų maloniai prašome kreiptis tiesiogiai.",
                emailLabel: "El. paštas",
                phoneLabel: "Telefonas",
                addressLabel: "Adresas",
                socialLabel: "Socialiniai tinklai"
            },
            FR: {
                gallery: "Galerie",
                about: "À propos",
                process: "Processus",
                contacts: "Contacts",
                moreInfo: "Plus d'informations",
                swipeImages: "← BALAYER POUR PLUS D'IMAGES →",
                swipeProjects: "← BALAYER POUR PLUS DE PROJETS →",
                credits: "© Bonatelier Spaces 2026",
                aboutDescription: "bonatellierspaces est un studio d'architecture contemporaine fondé sur la conviction que les grands espaces naissent de l'intersection de l'innovation et des principes de conception intemporels. Nous concevons des environnements qui inspirent, fonctionnent magnifiquement et résistent à l'épreuve du temps.",
                aboutPhilosophy: "Notre approche multidisciplinaire réunit l'architecture, le design d'intérieur et la pensée spatiale pour créer des solutions holistiques pour des projets résidentiels, commerciaux et culturels.",
                teamAugustaBio: "Avec plus de 15 ans d'expérience en conception architecturale, menant des projets à travers l'Europe et au-delà.",
                teamEmiliaBio: "Spécialisée dans la création d'espaces intérieurs harmonieux qui équilibrent l'esthétique et la fonctionnalité.",
                processIntro: "Notre processus de conception est enraciné dans une compréhension profonde — du contexte, des matériaux, de l'expérience humaine. Chaque projet commence par l'écoute : de nos clients, du site, des aspirations qui façonneront le design final.",
                processDiscovery: "Découverte",
                processDiscoveryText: "Nous commençons chaque projet par une recherche approfondie et une analyse du site, comprenant le contexte physique, culturel et émotionnel dans lequel nous travaillerons.",
                processConcept: "Concept",
                processConceptText: "Des esquisses initiales aux études détaillées, nous explorons plusieurs directions avant d'arriver à un design qui semble inévitable — comme s'il ne pouvait exister autrement.",
                processDevelopment: "Développement",
                processDevelopmentText: "Un développement technique rigoureux garantit que notre vision créative est réalisable, durable et répond aux normes de qualité les plus élevées.",
                processRealization: "Réalisation",
                processRealizationText: "Nous restons profondément impliqués pendant la construction, en veillant à ce que l'espace fini corresponde à la précision et au soin de notre intention de conception originale.",
                contactsIntro: "Pour toute demande de projet, n'hésitez pas à nous contacter directement.",
                emailLabel: "E-mail",
                phoneLabel: "Téléphone",
                addressLabel: "Adresse",
                socialLabel: "Social"
            }
        };

        let currentLanguage = 'EN';

        // ==========================================
        // GALLERY
        // ==========================================
        const projects = [
            {
                folder: '1',
                images: ['1.jpg', '986f3969-2132-494b-92ba-774ac0fc1845.jpg', 'f1559519-0758-4b0d-818c-bef1ef43d7ee.jpg', 'f29c80cc-753d-40e5-b78b-4ed96ff057c6.jpg'],
                EN: {
                    title: 'Residential Project',
                    location: 'Vilnius, Lithuania',
                    description: 'A contemporary residential project in the heart of Vilnius, merging historical context with modern minimalist aesthetics. The design focuses on light-filled spaces and honest materiality.'
                },
                LT: {
                    title: 'Gyvenamasis projektas',
                    location: 'Vilnius, Lietuva',
                    description: 'Šiuolaikinis gyvenamasis projektas Vilniaus širdyje, jungiantis istorinį kontekstą su modernia minimalistine estetika. Dizainas orientuotas į šviesos pripildytas erdves ir sąžiningą medžiagiškumą.'
                },
                FR: {
                    title: 'Projet Résidentiel',
                    location: 'Vilnius, Lituanie',
                    description: 'Un projet résidentiel contemporain au cœur de Vilnius, fusionnant le contexte historique et l\'esthétique minimaliste moderne. Le design se concentre sur des espaces baignés de lumière et une matérialité honnête.'
                },
                date: '2024—2025'
            },
            {
                folder: '2',
                images: ['1.jpg', '2.jpg', '3.jpg'],
                EN: {
                    title: 'Commercial Complex',
                    location: 'Kaunas, Lithuania',
                    description: 'An adaptive reuse office complex that revitalizes an industrial site. The project integrates sustainable systems while preserving the character of the original structure.'
                },
                LT: {
                    title: 'Komercinės paskirties kompleksas',
                    location: 'Kaunas, Lietuva',
                    description: 'Adaptuotas biurų kompleksas, atgaivinantis pramoninę teritoriją. Projekte integruotos tvarios sistemos, išlaikant originalios struktūros charakterį.'
                },
                FR: {
                    title: 'Complexe Commercial',
                    location: 'Kaunas, Lituanie',
                    description: 'Un complexe de bureaux à usage adaptatif qui revitalise un site industriel. Le projet intègre des systèmes durables tout en préservant le caractère de la structure d\'origine.'
                },
                date: '2023—2024'
            },
            {
                folder: '3',
                images: ['24479ad3-13f5-42b1-b4c2-93a476b3d9c1.jpg', 'b4884149-358d-45f7-9a6b-2e596a8bd97a.jpg'],
                EN: {
                    title: 'Project 3',
                    location: 'Location TBD',
                    description: 'A conceptual study into modular housing solutions, exploring how prefabricated elements can create high-quality, adaptable urban living environments.'
                },
                LT: {
                    title: 'Projektas 3',
                    location: 'Vieta bus patikslinta',
                    description: 'Koncepcinė modulinių būsto sprendimų studija, tirianti, kaip surenkami elementai gali sukurti aukštos kokybės, pritaikomą miesto gyvenamąją aplinką.'
                },
                FR: {
                    title: 'Projet 3',
                    location: 'Lieu à confirmer',
                    description: 'Une étude conceptuelle sur les solutions de logement modulaires, explorant comment les éléments préfabriqués peuvent créer des environnements de vie urbains de haute qualité et adaptables.'
                },
                date: '2023'
            }
        ];

        let currentProjectIndex = 0;
        let currentImageIndices = projects.map(() => 0);
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let dragDeltaX = 0;
        let dragDeltaY = 0;
        let currentTranslateX = 0;
        let currentTranslateY = 0;
        let galleryInitialized = false;

        const verticalTrack = document.getElementById('verticalTrack');
        const projectTitle = document.getElementById('projectTitle');
        const projectLocation = document.getElementById('projectLocation');
        const projectDate = document.getElementById('projectDate');
        const projectInfo = document.getElementById('projectInfo');
        const imageCounter = document.getElementById('imageCounter');

        function getViewportHeight() {
            return window.visualViewport ? window.visualViewport.height : window.innerHeight;
        }

        function initGallery() {
            if (!galleryInitialized) {
                buildAllProjects();
                setupGalleryEventListeners();
                galleryInitialized = true;
            }
            updateProjectInfo();
            updatePositions(false);
            positionProjectInfo();
        }

        function buildAllProjects() {
            verticalTrack.innerHTML = '';

            projects.forEach((project, projectIdx) => {
                const projectRow = document.createElement('div');
                projectRow.className = 'project-row';
                projectRow.dataset.projectIndex = projectIdx;

                const horizontalTrack = document.createElement('div');
                horizontalTrack.className = 'horizontal-track';
                horizontalTrack.dataset.projectIndex = projectIdx;

                project.images.forEach((img, imgIdx) => {
                    const slide = document.createElement('div');
                    slide.className = 'carousel-slide';
                    const imageElement = document.createElement('img');
                    imageElement.src = `gallery/${project.folder}/${img}`;
                    imageElement.alt = `${project.title} - Image ${imgIdx + 1}`;
                    imageElement.onload = () => {
                        imageElement.classList.add('loaded');
                    };
                    // Handle cached images that don't fire onload
                    if (imageElement.complete) {
                        imageElement.classList.add('loaded');
                    }
                    slide.appendChild(imageElement);
                    horizontalTrack.appendChild(slide);
                });

                projectRow.appendChild(horizontalTrack);
                verticalTrack.appendChild(projectRow);
            });
        }

        function updatePositions(animate = true) {
            const viewportHeight = getViewportHeight();
            const verticalOffset = -currentProjectIndex * viewportHeight;
            currentTranslateY = verticalOffset;

            if (!animate) {
                verticalTrack.classList.add('dragging');
            } else {
                verticalTrack.classList.remove('dragging');
            }

            verticalTrack.style.transform = `translateY(${verticalOffset + dragDeltaY}px)`;

            const horizontalTracks = document.querySelectorAll('.horizontal-track');
            horizontalTracks.forEach((track, idx) => {
                const imageIndex = currentImageIndices[idx];
                const horizontalOffset = -imageIndex * window.innerWidth;

                if (idx === currentProjectIndex) {
                    if (!animate) {
                        track.classList.add('dragging');
                    } else {
                        track.classList.remove('dragging');
                    }
                    track.style.transform = `translateX(${horizontalOffset + dragDeltaX}px)`;
                    currentTranslateX = horizontalOffset;
                } else {
                    track.style.transform = `translateX(${horizontalOffset}px)`;
                }
            });

            if (!animate) {
                requestAnimationFrame(() => {
                    verticalTrack.classList.remove('dragging');
                    horizontalTracks.forEach(t => t.classList.remove('dragging'));
                });
            }


            updateCounter();
        }

        function updateProjectInfo() {
            const project = projects[currentProjectIndex];
            const data = project[currentLanguage] || project.EN;

            projectTitle.textContent = data.title;
            projectLocation.textContent = data.location;
            projectDate.textContent = project.date;
            projectDescriptionOverlay.textContent = data.description || '';

            // Update Page Title
            document.title = `${data.title} | bonatelier`;

            // Update Meta Description
            const metaDesc = document.getElementById('metaDescription');
            if (metaDesc) {
                metaDesc.setAttribute('content', data.description);
            }
        }

        function updateCounter() {
            const project = projects[currentProjectIndex];
            const imageIndex = currentImageIndices[currentProjectIndex];
            if (project.images.length > 1) {
                imageCounter.textContent = `${imageIndex + 1} / ${project.images.length}`;
                imageCounter.style.display = 'block';
            } else {
                imageCounter.style.display = 'none';
            }
        }

        const projectDescriptionOverlay = document.getElementById('projectDescriptionOverlay');
        const toggleMoreInfoBtn = document.getElementById('toggleMoreInfo');

        function positionProjectInfo() {
            setTimeout(() => {
                const projectRow = verticalTrack.children[currentProjectIndex];
                if (!projectRow) return;

                const horizontalTrack = projectRow.querySelector('.horizontal-track');
                const imageIndex = currentImageIndices[currentProjectIndex];
                const slide = horizontalTrack.children[imageIndex];
                if (!slide) return;

                const img = slide.querySelector('img');
                if (!img) return;

                if (!img.complete || !img.naturalHeight) {
                    img.onload = () => positionProjectInfo();
                    return;
                }

                const viewportHeight = getViewportHeight();
                const viewportWidth = window.innerWidth;
                const maxWidth = viewportWidth * 0.6;
                const maxHeight = viewportHeight * 0.75;
                const imgRatio = img.naturalWidth / img.naturalHeight;

                const isMobile = viewportWidth <= 768;
                const mobileMaxWidth = viewportWidth * 0.9;
                const mobileMaxHeight = viewportHeight * 0.5;

                const effectiveMaxWidth = isMobile ? mobileMaxWidth : maxWidth;
                const effectiveMaxHeight = isMobile ? mobileMaxHeight : maxHeight;

                let displayWidth, displayHeight;
                if (imgRatio > effectiveMaxWidth / effectiveMaxHeight) {
                    displayWidth = Math.min(img.naturalWidth, effectiveMaxWidth);
                    displayHeight = displayWidth / imgRatio;
                } else {
                    displayHeight = Math.min(img.naturalHeight, effectiveMaxHeight);
                    displayWidth = displayHeight * imgRatio;
                }

                const imageCenterY = viewportHeight / 2;
                const imageCenterX = viewportWidth / 2;
                const imageTop = (viewportHeight - displayHeight) / 2;
                const imageBottom = imageTop + displayHeight;
                const imageRight = (viewportWidth + displayWidth) / 2;
                const imageLeft = (viewportWidth - displayWidth) / 2;

                if (isMobile) {
                    projectInfo.style.left = '50%';
                    projectInfo.style.right = 'auto';
                    projectInfo.style.transform = 'translateX(-50%)';
                    projectInfo.style.bottom = '60px';
                    projectInfo.style.textAlign = 'center';

                    imageCounter.style.left = '50%';
                    imageCounter.style.right = 'auto';
                    imageCounter.style.transform = 'translateX(-50%)';
                    imageCounter.style.bottom = '24px';
                } else {
                    // Desktop Redesign Layout
                    const rightPadding = 24;
                    const logoWidth = 32;
                    const spacing = 40;

                    // Project Info - Closer to image, but safe from credits
                    projectInfo.style.left = `${imageRight + 30}px`;
                    projectInfo.style.right = 'auto';
                    projectInfo.style.transform = 'none';
                    // Ensure it doesn't overlap with credits (bottom: 24px)
                    const infoTop = Math.min(imageBottom - 100, viewportHeight - 150) + 12;
                    projectInfo.style.top = `${infoTop}px`;
                    projectInfo.style.bottom = 'auto';
                    projectInfo.style.textAlign = 'left';

                    // Description Overlay - Centered vertically with image
                    projectDescriptionOverlay.style.left = `${imageRight + 30}px`;
                    projectDescriptionOverlay.style.top = `${imageCenterY}px`;
                    projectDescriptionOverlay.style.transform = 'translateY(-50%)';

                    // Counter - Aligned with "More information"
                    imageCounter.style.left = 'auto';
                    imageCounter.style.right = `${rightPadding}px`;
                    imageCounter.style.top = `${infoTop + 74}px`; // Match More information baseline (adjusted +22px)
                    imageCounter.style.bottom = 'auto';
                    imageCounter.style.transform = 'none';

                    // Horizontal scroll indicator (Swipe for images) - Centered at bottom
                    // Position it just above the image bottom or closer to it
                    const gap = 30; // Closer than the previous 60px
                    scrollHorizontal.style.bottom = `${viewportHeight - imageBottom - gap}px`;
                    scrollHorizontal.style.left = '50%';
                    scrollHorizontal.style.transform = 'translateX(-50%)';

                    // Vertical Indicator
                    // Ensure it stays fixed via reset of JS overrides if any
                    scrollVertical.style.right = '';
                    scrollVertical.style.bottom = '';
                    scrollVertical.style.left = '';
                    scrollVertical.style.top = '';
                    scrollVertical.style.transform = '';
                }
            }, 100);
        }

        function setupGalleryEventListeners() {
            const galleryPage = document.getElementById('page-gallery');

            galleryPage.addEventListener('mousedown', handleDragStart);
            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', handleDragEnd);

            galleryPage.addEventListener('touchstart', handleDragStart, { passive: true });
            document.addEventListener('touchmove', handleDragMove, { passive: false });
            document.addEventListener('touchend', handleDragEnd);

            document.addEventListener('keydown', handleKeydown);
            document.addEventListener('wheel', handleWheel, { passive: true });

            toggleMoreInfoBtn.addEventListener('click', (e) => {
                e.preventDefault();
                projectDescriptionOverlay.classList.toggle('active');
            });

            galleryPage.addEventListener('contextmenu', e => e.preventDefault());

            const handleResize = () => {
                if (document.getElementById('page-gallery').classList.contains('active')) {
                    updatePositions(false);
                    positionProjectInfo();
                }
            };
            window.addEventListener('resize', handleResize);
            if (window.visualViewport) {
                window.visualViewport.addEventListener('resize', handleResize);
            }
        }

        function handleDragStart(e) {
            if (!document.getElementById('page-gallery').classList.contains('active')) return;

            isDragging = true;

            const point = e.touches ? e.touches[0] : e;
            startX = point.clientX;
            startY = point.clientY;
            dragDeltaX = 0;
            dragDeltaY = 0;

            verticalTrack.classList.add('dragging');
            const currentHorizontalTrack = document.querySelector(`.horizontal-track[data-project-index="${currentProjectIndex}"]`);
            if (currentHorizontalTrack) {
                currentHorizontalTrack.classList.add('dragging');
            }
        }

        function handleDragMove(e) {
            if (!isDragging) return;

            const point = e.touches ? e.touches[0] : e;
            const deltaX = point.clientX - startX;
            const deltaY = point.clientY - startY;

            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                dragDeltaX = deltaX;
                dragDeltaY = 0;
                if (e.cancelable) e.preventDefault();
            } else {
                dragDeltaX = 0;
                dragDeltaY = deltaY;
                if (e.cancelable) e.preventDefault();
            }

            const viewportHeight = getViewportHeight();
            const verticalOffset = -currentProjectIndex * viewportHeight + dragDeltaY;
            verticalTrack.style.transform = `translateY(${verticalOffset}px)`;

            const currentHorizontalTrack = document.querySelector(`.horizontal-track[data-project-index="${currentProjectIndex}"]`);
            if (currentHorizontalTrack) {
                const imageIndex = currentImageIndices[currentProjectIndex];
                const horizontalOffset = -imageIndex * window.innerWidth + dragDeltaX;
                currentHorizontalTrack.style.transform = `translateX(${horizontalOffset}px)`;
            }
        }

        function handleDragEnd(e) {
            if (!isDragging) return;
            isDragging = false;

            verticalTrack.classList.remove('dragging');
            const currentHorizontalTrack = document.querySelector(`.horizontal-track[data-project-index="${currentProjectIndex}"]`);
            if (currentHorizontalTrack) {
                currentHorizontalTrack.classList.remove('dragging');
            }

            const swipeThreshold = 80;
            const project = projects[currentProjectIndex];
            const imageIndex = currentImageIndices[currentProjectIndex];

            let projectChanged = false;

            if (Math.abs(dragDeltaX) > Math.abs(dragDeltaY) && Math.abs(dragDeltaX) > swipeThreshold) {
                if (dragDeltaX > 0) {
                    if (imageIndex > 0) {
                        currentImageIndices[currentProjectIndex]--;
                    } else {
                        currentImageIndices[currentProjectIndex] = project.images.length - 1; // Loop to last
                    }
                } else if (dragDeltaX < 0) {
                    if (imageIndex < project.images.length - 1) {
                        currentImageIndices[currentProjectIndex]++;
                    } else {
                        currentImageIndices[currentProjectIndex] = 0; // Loop to first
                    }
                }
            } else if (Math.abs(dragDeltaY) > swipeThreshold) {
                if (dragDeltaY > 0 && currentProjectIndex > 0) {
                    currentProjectIndex--;
                    projectChanged = true;
                } else if (dragDeltaY < 0 && currentProjectIndex < projects.length - 1) {
                    currentProjectIndex++;
                    projectChanged = true;
                }
            }

            dragDeltaX = 0;
            dragDeltaY = 0;

            updatePositions(true);
            updateGalleryHash(); // Update URL for deep linking

            if (projectChanged) {
                projectInfo.classList.add('transitioning');
                setTimeout(() => {
                    updateProjectInfo();
                    projectInfo.classList.remove('transitioning');
                    positionProjectInfo();
                }, 200);
            } else {
                positionProjectInfo();
            }
        }

        function handleKeydown(e) {
            if (!document.getElementById('page-gallery').classList.contains('active')) return;

            const project = projects[currentProjectIndex];
            const imageIndex = currentImageIndices[currentProjectIndex];
            let projectChanged = false;

            switch (e.key) {
                case 'ArrowRight':
                    if (imageIndex < project.images.length - 1) {
                        currentImageIndices[currentProjectIndex]++;
                    } else {
                        currentImageIndices[currentProjectIndex] = 0; // Loop to first
                    }
                    updatePositions(true);
                    updateGalleryHash();
                    positionProjectInfo();
                    break;
                case 'ArrowLeft':
                    if (imageIndex > 0) {
                        currentImageIndices[currentProjectIndex]--;
                    } else {
                        currentImageIndices[currentProjectIndex] = project.images.length - 1; // Loop to last
                    }
                    updatePositions(true);
                    updateGalleryHash();
                    positionProjectInfo();
                    break;
                case 'ArrowDown':
                    if (currentProjectIndex < projects.length - 1) {
                        currentProjectIndex++;
                        projectChanged = true;
                    }
                    break;
                case 'ArrowUp':
                    if (currentProjectIndex > 0) {
                        currentProjectIndex--;
                        projectChanged = true;
                    }
                    break;
            }

            if (projectChanged) {
                projectInfo.classList.add('transitioning');
                updatePositions(true);
                updateGalleryHash();
                setTimeout(() => {
                    updateProjectInfo();
                    projectInfo.classList.remove('transitioning');
                    positionProjectInfo();
                }, 200);
            }
        }

        let lastWheelTime = 0;
        let wheelAccumulatorX = 0;
        let wheelAccumulatorY = 0;

        // Cooldowns
        const MOUSE_WHEEL_COOLDOWN = 100;
        const TRACKPAD_COOLDOWN = 300;     // Slightly faster for trackpad
        let currentCooldown = TRACKPAD_COOLDOWN;

        let isNavigating = false;
        function handleWheel(e) {
            if (!document.getElementById('page-gallery').classList.contains('active')) return;

            const dx = e.deltaX;
            const dy = e.deltaY;

            // Simple magnitude check
            const threshold = 40;
            if (isNavigating) return;

            let actionTaken = false;
            let projectChanged = false;

            if (Math.abs(dx) > Math.abs(dy)) {
                if (Math.abs(dx) > threshold) {
                    const project = projects[currentProjectIndex];
                    if (dx > 0) {
                        if (currentImageIndices[currentProjectIndex] < project.images.length - 1) {
                            currentImageIndices[currentProjectIndex]++;
                            actionTaken = true;
                        } else {
                            currentImageIndices[currentProjectIndex] = 0; // Loop to first
                            actionTaken = true;
                        }
                    } else if (dx < 0) {
                        if (currentImageIndices[currentProjectIndex] > 0) {
                            currentImageIndices[currentProjectIndex]--;
                            actionTaken = true;
                        } else {
                            currentImageIndices[currentProjectIndex] = project.images.length - 1; // Loop to last
                            actionTaken = true;
                        }
                    }
                }
            } else {
                if (Math.abs(dy) > threshold) {
                    if (dy > 0 && currentProjectIndex < projects.length - 1) {
                        currentProjectIndex++;
                        projectChanged = true;
                        actionTaken = true;
                    } else if (dy < 0 && currentProjectIndex > 0) {
                        currentProjectIndex--;
                        projectChanged = true;
                        actionTaken = true;
                    }
                }
            }

            if (actionTaken) {
                isNavigating = true;
                updatePositions(true);
                updateGalleryHash();

                if (projectChanged) {
                    projectInfo.classList.add('transitioning');
                    setTimeout(() => {
                        updateProjectInfo();
                        projectInfo.classList.remove('transitioning');
                        positionProjectInfo();
                    }, 200);
                } else {
                    positionProjectInfo();
                }

                // Cooldown to prevent multiple triggers from one trackpad swipe
                setTimeout(() => {
                    isNavigating = false;
                }, 600);
            }
        }


        // Language switcher logic
        function setLanguage(event, lang) {
            if (event) event.preventDefault();
            currentLanguage = lang;

            const content = translations[lang];
            if (!content) return;

            // Update all translate elements
            document.querySelectorAll('.translate').forEach(element => {
                const key = element.dataset.key;
                if (content[key]) {
                    element.textContent = content[key];
                }
            });

            // Update language switcher active state
            const links = document.querySelectorAll('.language-switcher a');
            links.forEach(link => {
                if (link.innerText === lang) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });

            // Update project information if in gallery
            if (document.getElementById('page-gallery').classList.contains('active')) {
                updateProjectInfo();
            }

            console.log(`Language set to: ${lang}`);
        }

        // Custom Cursor Logic
        const cursorDot = document.getElementById('cursorDot');
        const cursorOutline = document.getElementById('cursorOutline');

        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;

            cursorDot.style.transform = `translate(${posX - 4}px, ${posY - 4}px)`;

            // Outline follows with a slight delay
            requestAnimationFrame(() => {
                cursorOutline.style.left = `${posX}px`;
                cursorOutline.style.top = `${posY}px`;
            });
        });

        document.querySelectorAll('a, button, .project-more, .carousel-slide img, .team-member').forEach(link => {
            link.addEventListener('mouseenter', () => document.body.classList.add('cursor-hover'));
            link.addEventListener('mouseleave', () => document.body.classList.remove('cursor-hover'));
        });

        // Initialize Router
        initRouter();

    </script>
</body>

</html>